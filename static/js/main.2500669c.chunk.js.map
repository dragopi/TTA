{"version":3,"sources":["TTATypes.tsx","TTARepo.tsx","TTAUITactic.tsx","Forms.tsx","TTAUI.tsx","TTACalc.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["SceneValuesModifier","food","resource","culture","strength","happy","science","this","TTASceneValue","value","logs","Reset","v","m","push","msg","TacticInfoReport","Art","Cav","Inf","AirMod","Log","length","TacticReport","Items","TacticCard","TTAStrengthValue","tacticReport","TTASceneValues","ca","ma","yellowToken","valid","GetBestFromArray","a","codeprefix","result","nAge","forEach","c","code","startsWith","workers","card","age","GetBestFromRangeArray","minAge","maxAge","CARD_PFA01","type","subtype","name","light_cost","rock_cost","text","CARD_PFA02","CARD_PFA03","CARD_PFA04","CARD_PMI01","CARD_PMI02","CARD_PMI03","CARD_PMI04","CARD_UTE01","CARD_UTE02","CARD_UTE03","CARD_ULA01","CARD_ULA02","CARD_ULA03","CARD_ULA04","CARD_UAR01","CARD_UAR02","CARD_UAR03","CARD_ULI01","CARD_ULI02","CARD_ULI03","CARD_UTH01","CARD_UTH02","CARD_UTH03","CARD_MIN01","CARD_MIN02","CARD_MIN03","CARD_MIN04","CARD_MCA01","CARD_MCA02","CARD_MCA03","CARD_MAR01","CARD_MAR02","CARD_MAI01","CARD_WON01","CARD_WON02","CARD_WON03","CARD_WON04","CARD_WON05","getSceneValuesModifier","s","countToken","Infantry","Artillery","CARD_WON06","CARD_WON07","CARD_WON08","CARD_WON09","CARD_WON10","CARD_WON11","CARD_WON12","CARD_WON13","CARD_WON14","CARD_WON15","CARD_WON16","CARD_WON17","CARD_WON18","Age","CARD_WON19","CARD_WON20","CARD_WON21","bestFarm","Productions","bestMine","CARD_WON22","CARD_WON23","CARD_WON24","CARD_WON25","CARD_WON26","Governament","CARD_WON27","CARD_WON28","Territories","CARD_WON29","CARD_WON30","CARD_WON31","CARD_WON32","CARD_WON33","CARD_WON34","CARD_WON35","CARD_WON99","CARD_LEA01","CARD_LEA02","CARD_LEA03","CARD_LEA04","CARD_LEA05","CARD_LEA06","Cavallery","AirForce","CARD_LEA07","Urbans","Wonders","CARD_LEA08","CARD_LEA09","bestLab","GetBestLab","bestLib","GetBestLibrary","Math","max","CARD_LEA10","CARD_LEA11","CARD_LEA12","CARD_LEA13","lbrCount","thtCount","i","min","CARD_LEA14","CARD_LEA15","countArmy","CARD_LEA16","CARD_LEA17","CARD_LEA18","levelLab","levelLibrary","CARD_LEA19","CARD_LEA20","CARD_LEA21","CARD_LEA22","CARD_LEA23","CARD_LEA24","CARD_LEA25","CARD_LEA26","CARD_LEA27","CARD_LEA28","CARD_LEA29","CARD_LEA30","CARD_LEA31","box","CARD_LEA32","CARD_LEA33","CARD_LEA34","CARD_LEA35","CARD_LEA36","CARD_LEA37","CARD_LEA38","CARD_LEA39","CARD_LEA40","CARD_LEA41","levelTheology","levelTheater","levelArena","CARD_LEA42","CARD_LEA43","levelMine","CARD_LEA44","CARD_LEA45","CARD_LEA46","currentValues","Value","faceNeed","ceil","console","log","CARD_LEA47","CARD_LEA48","CARD_LEA49","CARD_GOV01","CARD_GOV02","CARD_GOV03","CARD_GOV04","CARD_GOV05","CARD_GOV06","CARD_GOV07","CARD_GOV08","CARD_SMI01","CARD_SMI02","CARD_SMI03","CARD_SCI01","CARD_SCI02","CARD_SCI03","CARD_SCL01","CARD_SCL02","CARD_SCL03","CARD_SCO01","CARD_SCO02","CARD_SCO03","CARD_TAC01","strengthObs","ninf","ncav","nart","nair","CARD_TAC02","CARD_TAC03","CARD_TAC04","CARD_TAC05","CARD_TAC06","CARD_TAC07","CARD_TAC08","CARD_TAC09","CARD_TAC10","CARD_TAC11","CARD_TAC12","CARD_TAC13","CARD_TAC14","CARD_TAC15","CARD_TAC16","CARD_TAC17","CARD_TER01","pop","CARD_TER02","CARD_TER03","CARD_TER04","CARD_TER05","CARD_TER06","CARD_TER07","CARD_TER08","CARD_TER09","CARD_TER10","CARD_TER11","CARD_TER12","CARD_TER13","TTARepoCards","internalRepo","internalTacticRepo","FillRepo","FillTactics","Map","cardName","get","leaders","Array","tactics","wonders","territories","governaments","_instance","MakeBoardCard","values","Number","TacticSVG","artWidth","cavWidth","infWidth","airWidth","colorOK","colorMod","colorNO","fillColor","offset","contentSVG","contentWidth","height","w","scale_w","GetSVGEnvelop","AddAir","content","AddArt","AddCav","AddInf","svg","info","color","report","map","item","GetReportInfoSVG","airMod","svgAir","GetAirSVG","src","encodeURIComponent","FormContext","React","undefined","Form","props","setValues","setState","state","handleSubmit","e","preventDefault","onSubmitData","errors","haveError","Object","keys","key","submitSuccess","context","Provider","onSubmit","noValidate","className","render","role","haveErrors","CardItem","Instance","Get","onBoard","cardClick","Consumer","onChange","currentTarget","checked","Component","CardItemToken","tokens","IncrementItem","UpdateState","DecreaseItem","href","id","onClick","FilterLeaders","GetLeaders","indents","leader","FilterTactics","toString","GetTactics","tactic","GetSimpleTextTactic","FilterAge","htmlFor","FilterGovernament","GetGovernaments","gov","CardType","FilterYellowTokens","SceneResult","defClass","imgSvg","n","h","GetYellowTokenBar","Logs","FillCard","FillArray","OrderByAge","sort","b","StrenghtCalculation","resultStrength","countTactics","countTacticsObs","strengthFromTactic","infArray","cavArray","artArray","airArray","Leader","Special","FillCardsInScene","Tactic","ageTactic","index","assignedCard","obsolete","abs","genghisMod","dietrichMod","findTactic","tacticStrength","tacticStrengthObs","nInf","nCav","nArt","isObsolete","tInfo","IsEmpty","AddValue","strengthFromAirMod","airToken","tokenUsed","ElabCard","r","evalToken","nTk","sv","GetBoardCardArray","deck","TTASceneCalculation","ElabFoodConsumption","bestMil","bestCol","bestCiv","bestCon","ElabCards","AddLog","diff","CheckConsistencyAge","c2","CheckConsistencyLouvre","App","sceneRef","useRef","formRef","ref","action","sceneResult","parseInt","codeGov","GetTactic","includes","MakeScene","current","errorCount","resultConsoleElements","badge","document","getElementById","classList","add","innerText","remove","ReactDOM","PrintConsoleLog","Fragment","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode"],"mappings":"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CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,GACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASM,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASE,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASI,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASE,IACV,CAAC,QAASC,IACV,CAAC,QAASE,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASG,IACV,CAAC,QAASG,IACV,CAAC,QAASC,IACV,CAAC,QAASO,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASK,IACV,CAAC,QAASC,IACV,CAAC,QAASE,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASG,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASE,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASI,IACV,CAAC,QAASC,IACV,CAAC,QAASE,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASO,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASuB,IACV,CAAC,QAASE,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,IACV,CAAC,QAASC,KAEjB,GAhKL,yBAkKI,WACIpQ,KAAKuQ,mBAAqB,IAAIG,IAA2B,CACrD,CAAC,QAASzC,IACV,CAAC,QAAS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","file":"static/js/main.2500669c.chunk.js","sourcesContent":["export type TTACard = {\n    code: string;\n    type: string;\n    subtype: string;\n    name: string;\n    age: number;\n    light_cost: number;\n    rock_cost: number;\n    food: number;\n    resource: number;\n    culture: number;\n    strength: number;\n    happy: number;\n    science: number;\n    ca: number;\n    ma: number;\n    text: string;\n    pop?: number;\n    box?: number;\n    getSceneValuesModifier?: (s: Scene, currentValues: TTASceneValues) => (SceneValuesModifier);\n};\n\nexport class SceneValuesModifier {\n    public food: number;\n    public resource: number;\n    public culture: number;\n    public strength: number;\n    public happy: number;\n    public science: number;\n\n    constructor() {\n        this.food = 0;\n        this.resource = 0;\n        this.culture = 0;\n        this.strength = 0;\n        this.happy = 0;\n        this.science = 0;\n    }\n};\n\nexport type TTATacticCard = {\n    code: string,\n    name: string,\n    age: number,\n    strength: number,\n    strengthObs: number,\n    ninf: number,\n    ncav: number,\n    nart: number,\n    nair: number\n}\nexport interface BoardCard {\n    code: string;\n    card?: TTACard;\n    workers: number;\n}\n\nexport interface Scene {\n    Age: number;\n    yellowToken: number;\n    Leader?: BoardCard;\n    Governament?: BoardCard;\n    Wonders?: Array<BoardCard>;\n    Infantry: Array<BoardCard>;\n    Cavallery: Array<BoardCard>;\n    Artillery: Array<BoardCard>;\n    AirForce: BoardCard;\n    Special?: Array<BoardCard>;\n    Productions?: Array<BoardCard>;\n    Urbans?: Array<BoardCard>;\n    Territories?: Array<BoardCard>;\n    Tactic: TTATacticCard;\n}\n\ninterface LogItem {\n    msg: string;\n}\n\nexport class TTASceneValue {\n    private value: number;\n    private logs: LogItem[];\n\n    constructor() {\n        this.Reset();\n    }\n\n    public Value() {\n        return this.value;\n    }\n\n    public AddValue(v: number, m: string = \"\")\n    {\n        this.value += v;\n        if (m!=\"\")\n            this.logs.push({msg: m + \": \" + v});\n    }\n\n    public Logs() {\n        return this.logs;\n    }\n\n    public Reset() {\n        this.value = 0;\n        this.logs = [];\n    }\n}\n\nexport class TacticInfoReport {\n    public Art: string[];\n    public Cav: string[];\n    public Inf: string[];\n    public strength: number;\n    public AirMod: boolean;\n    public Log: string;\n\n    constructor() {\n        this.Cav = [];\n        this.Art = [];\n        this.Inf = [];\n        this.strength = 0;\n        this.AirMod = false;\n        this.Log = '';\n    }\n\n    public IsEmpty() \n    {\n        return ((this.Cav.length == 0) && (this.Art.length == 0) && (this.Art.length == 0));\n    }\n};\n\nexport class TacticReport {\n    public Items: TacticInfoReport[];\n    public TacticCard: TTATacticCard;\n    constructor() {\n        this.Items = [];\n        this.TacticCard = null;\n    }\n};\n\nexport class TTAStrengthValue extends TTASceneValue {\n    public tacticReport: TacticReport;\n    \n    constructor() {\n        super();\n        this.tacticReport = new TacticReport();\n    }    \n\n    public Reset() {\n        super.Reset();\n        this.tacticReport = new TacticReport();\n    }\n};\n\nexport class TTASceneValues {\n    public food: TTASceneValue;\n    public resource: TTASceneValue;\n    public culture: TTASceneValue;\n    public strength: TTAStrengthValue;\n    public happy: TTASceneValue;\n    public science: TTASceneValue;\n    public ca: TTASceneValue;\n    public ma: TTASceneValue;\n    public yellowToken: number;\n    public valid: boolean;\n    private logs: LogItem[];\n\n    constructor() {\n        this.food = new TTASceneValue();\n        this.resource = new TTASceneValue();\n        this.culture = new TTASceneValue();\n        this.strength = new TTAStrengthValue();\n        this.happy = new TTASceneValue();\n        this.science = new TTASceneValue();\n        this.ca = new TTASceneValue();\n        this.ma = new TTASceneValue();\n        this.yellowToken = 0;\n        this.valid = true;\n        this.logs = [];\n    }\n\n    public AddLog(m: string)\n    {\n        if (m!=\"\")\n            this.logs.push({msg: m});\n    }\n\n    public Logs() {\n        return this.logs;\n    }\n};","import { TTACard, TTATacticCard, SceneValuesModifier, Scene, BoardCard, TTASceneValues } from \"./TTATypes\";\r\n\r\n\r\nfunction GetBestLab(s: Scene)\r\n{\r\n    return GetBestFromArray(s.Urbans, \"ULA\");\r\n}\r\nfunction GetBestTemple(s: Scene)\r\n{\r\n    return GetBestFromArray(s.Urbans, \"UTE\");\r\n}\r\nfunction GetBestTheater(s: Scene)\r\n{\r\n    return GetBestFromArray(s.Urbans, \"UTH\");\r\n}\r\nfunction GetBestLibrary(s: Scene)\r\n{\r\n    return GetBestFromArray(s.Urbans, \"ULI\");\r\n}\r\n\r\nexport function GetBestFromArray(a: Array<BoardCard>, codeprefix: string)\r\n{\r\n    let result: BoardCard = null;\r\n    let nAge: number = -1;\r\n    a.forEach(c => {\r\n        if((c.code.startsWith(codeprefix))&&(c.workers>0))\r\n        {\r\n            if(c.card.age>nAge)\r\n            {\r\n                result = c;\r\n                nAge = c.card.age;\r\n            }\r\n        }\r\n    });\r\n    return result;\r\n}\r\n\r\nexport function GetBestFromRangeArray(a: Array<BoardCard>, codeprefix: string, minAge: number, maxAge: number)\r\n{\r\n    let result: BoardCard = null;\r\n    let nAge: number = -1;\r\n    a.forEach(c => {\r\n        if((c.code.startsWith(codeprefix))&&(c.workers>0)&&(c.card.age>=minAge)&&(c.card.age<=maxAge))\r\n        {\r\n            if(c.card.age>nAge)\r\n            {\r\n                result = c;\r\n                nAge = c.card.age;\r\n            }\r\n        }\r\n    });\r\n    return result;\r\n}\r\n\r\nlet CARD_PFA01: TTACard = {\r\n    code: \"PFA01\",\r\n    type: \"Production\",\r\n    subtype: \"Farm\",\r\n    name: \"Agriculture\",\r\n    age: 0,\r\n    light_cost: 0,\r\n    rock_cost: 2,\r\n    food: 1,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_PFA02: TTACard = {\r\n    code: \"PFA02\",\r\n    type: \"Production\",\r\n    subtype: \"Farm\",\r\n    name: \"Irrigation\",\r\n    age: 1,\r\n    light_cost: 3,\r\n    rock_cost: 4,\r\n    food: 2,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_PFA03: TTACard = {\r\n    code: \"PFA03\",\r\n    type: \"Production\",\r\n    subtype: \"Farm\",\r\n    name: \"Selective Breeding\",\r\n    age: 2,\r\n    light_cost: 5,\r\n    rock_cost: 6,\r\n    food: 3,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_PFA04: TTACard = {\r\n    code: \"PFA04\",\r\n    type: \"Production\",\r\n    subtype: \"Farm\",\r\n    name: \"Mechanized Agriculture\",\r\n    age: 3,\r\n    light_cost: 7,\r\n    rock_cost: 8,\r\n    food: 5,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_PMI01: TTACard = {\r\n    code: \"PMI01\",\r\n    type: \"Production\",\r\n    subtype: \"Mine\",\r\n    name: \"Bronze\",\r\n    age: 0,\r\n    light_cost: 0,\r\n    rock_cost: 2,\r\n    food: null,\r\n    resource: 1,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_PMI02: TTACard = {\r\n    code: \"PMI02\",\r\n    type: \"Production\",\r\n    subtype: \"Mine\",\r\n    name: \"Iron\",\r\n    age: 1,\r\n    light_cost: 5,\r\n    rock_cost: 5,\r\n    food: null,\r\n    resource: 2,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_PMI03: TTACard = {\r\n    code: \"PMI03\",\r\n    type: \"Production\",\r\n    subtype: \"Mine\",\r\n    name: \"Coal\",\r\n    age: 2,\r\n    light_cost: 7,\r\n    rock_cost: 8,\r\n    food: null,\r\n    resource: 3,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_PMI04: TTACard = {\r\n    code: \"PMI04\",\r\n    type: \"Production\",\r\n    subtype: \"Mine\",\r\n    name: \"Oil\",\r\n    age: 3,\r\n    light_cost: 9,\r\n    rock_cost: 11,\r\n    food: null,\r\n    resource: 5,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_UTE01: TTACard = {\r\n    code: \"UTE01\",\r\n    type: \"Urban\",\r\n    subtype: \"Temple\",\r\n    name: \"Religion\",\r\n    age: 0,\r\n    light_cost: 0,\r\n    rock_cost: 3,\r\n    food: null,\r\n    resource: null,\r\n    culture: 1,\r\n    strength: null,\r\n    happy: 1,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_UTE02: TTACard = {\r\n    code: \"UTE02\",\r\n    type: \"Urban\",\r\n    subtype: \"Temple\",\r\n    name: \"Theology\",\r\n    age: 1,\r\n    light_cost: 2,\r\n    rock_cost: 5,\r\n    food: null,\r\n    resource: null,\r\n    culture: 1,\r\n    strength: null,\r\n    happy: 2,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_UTE03: TTACard = {\r\n    code: \"UTE03\",\r\n    type: \"Urban\",\r\n    subtype: \"Temple\",\r\n    name: \"Organized Religion\",\r\n    age: 2,\r\n    light_cost: 4,\r\n    rock_cost: 7,\r\n    food: null,\r\n    resource: null,\r\n    culture: 1,\r\n    strength: null,\r\n    happy: 3,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_ULA01: TTACard = {\r\n    code: \"ULA01\",\r\n    type: \"Urban\",\r\n    subtype: \"Lab\",\r\n    name: \"Philosophy\",\r\n    age: 0,\r\n    light_cost: 0,\r\n    rock_cost: 3,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: 1,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_ULA02: TTACard = {\r\n    code: \"ULA02\",\r\n    type: \"Urban\",\r\n    subtype: \"Lab\",\r\n    name: \"Alchemy\",\r\n    age: 1,\r\n    light_cost: 4,\r\n    rock_cost: 6,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: 2,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_ULA03: TTACard = {\r\n    code: \"ULA03\",\r\n    type: \"Urban\",\r\n    subtype: \"Lab\",\r\n    name: \"Scientific Method\",\r\n    age: 2,\r\n    light_cost: 6,\r\n    rock_cost: 8,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: 3,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_ULA04: TTACard = {\r\n    code: \"ULA04\",\r\n    type: \"Urban\",\r\n    subtype: \"Lab\",\r\n    name: \"Computers\",\r\n    age: 3,\r\n    light_cost: 8,\r\n    rock_cost: 10,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: 5,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_UAR01: TTACard = {\r\n    code: \"UAR01\",\r\n    type: \"Urban\",\r\n    subtype: \"Arena\",\r\n    name: \"Bread and Circuses\",\r\n    age: 1,\r\n    light_cost: 3,\r\n    rock_cost: 4,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 1,\r\n    happy: 2,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_UAR02: TTACard = {\r\n    code: \"UAR02\",\r\n    type: \"Urban\",\r\n    subtype: \"Arena\",\r\n    name: \"Team Sports\",\r\n    age: 2,\r\n    light_cost: 5,\r\n    rock_cost: 6,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 2,\r\n    happy: 3,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_UAR03: TTACard = {\r\n    code: \"UAR03\",\r\n    type: \"Urban\",\r\n    subtype: \"Arena\",\r\n    name: \"Professional Sports\",\r\n    age: 3,\r\n    light_cost: 7,\r\n    rock_cost: 8,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 3,\r\n    happy: 4,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_ULI01: TTACard = {\r\n    code: \"ULI01\",\r\n    type: \"Urban\",\r\n    subtype: \"Library\",\r\n    name: \"Printing Press\",\r\n    age: 1,\r\n    light_cost: 3,\r\n    rock_cost: 4,\r\n    food: null,\r\n    resource: null,\r\n    culture: 1,\r\n    strength: null,\r\n    happy: null,\r\n    science: 1,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_ULI02: TTACard = {\r\n    code: \"ULI02\",\r\n    type: \"Urban\",\r\n    subtype: \"Library\",\r\n    name: \"Journalism\",\r\n    age: 2,\r\n    light_cost: 6,\r\n    rock_cost: 8,\r\n    food: null,\r\n    resource: null,\r\n    culture: 2,\r\n    strength: null,\r\n    happy: null,\r\n    science: 2,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_ULI03: TTACard = {\r\n    code: \"ULI03\",\r\n    type: \"Urban\",\r\n    subtype: \"Library\",\r\n    name: \"Multimedia\",\r\n    age: 3,\r\n    light_cost: 9,\r\n    rock_cost: 11,\r\n    food: null,\r\n    resource: null,\r\n    culture: 3,\r\n    strength: null,\r\n    happy: null,\r\n    science: 3,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_UTH01: TTACard = {\r\n    code: \"UTH01\",\r\n    type: \"Urban\",\r\n    subtype: \"Theater\",\r\n    name: \"Drama\",\r\n    age: 1,\r\n    light_cost: 4,\r\n    rock_cost: 5,\r\n    food: null,\r\n    resource: null,\r\n    culture: 2,\r\n    strength: null,\r\n    happy: 1,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_UTH02: TTACard = {\r\n    code: \"UTH02\",\r\n    type: \"Urban\",\r\n    subtype: \"Theater\",\r\n    name: \"Opera\",\r\n    age: 2,\r\n    light_cost: 7,\r\n    rock_cost: 9,\r\n    food: null,\r\n    resource: null,\r\n    culture: 3,\r\n    strength: null,\r\n    happy: 1,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_UTH03: TTACard = {\r\n    code: \"UTH03\",\r\n    type: \"Urban\",\r\n    subtype: \"Theater\",\r\n    name: \"Movies\",\r\n    age: 3,\r\n    light_cost: 10,\r\n    rock_cost: 12,\r\n    food: null,\r\n    resource: null,\r\n    culture: 4,\r\n    strength: null,\r\n    happy: 1,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_MIN01: TTACard = {\r\n    code: \"MIN01\",\r\n    type: \"Military\",\r\n    subtype: \"Infantry\",\r\n    name: \"Warriors\",\r\n    age: 0,\r\n    light_cost: 0,\r\n    rock_cost: 2,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 1,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_MIN02: TTACard = {\r\n    code: \"MIN02\",\r\n    type: \"Military\",\r\n    subtype: \"Infantry\",\r\n    name: \"Swordsmen\",\r\n    age: 1,\r\n    light_cost: 3,\r\n    rock_cost: 3,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 2,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_MIN03: TTACard = {\r\n    code: \"MIN03\",\r\n    type: \"Military\",\r\n    subtype: \"Infantry\",\r\n    name: \"Riflemen\",\r\n    age: 2,\r\n    light_cost: 5,\r\n    rock_cost: 5,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 3,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_MIN04: TTACard = {\r\n    code: \"MIN04\",\r\n    type: \"Military\",\r\n    subtype: \"Infantry\",\r\n    name: \"Modern Infantry\",\r\n    age: 3,\r\n    light_cost: 8,\r\n    rock_cost: 7,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 5,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_MCA01: TTACard = {\r\n    code: \"MCA01\",\r\n    type: \"Military\",\r\n    subtype: \"Cavalry\",\r\n    name: \"Knights\",\r\n    age: 1,\r\n    light_cost: 4,\r\n    rock_cost: 3,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 2,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_MCA02: TTACard = {\r\n    code: \"MCA02\",\r\n    type: \"Military\",\r\n    subtype: \"Cavalry\",\r\n    name: \"Calvarymen\",\r\n    age: 2,\r\n    light_cost: 6,\r\n    rock_cost: 5,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 3,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_MCA03: TTACard = {\r\n    code: \"MCA03\",\r\n    type: \"Military\",\r\n    subtype: \"Cavalry\",\r\n    name: \"Tanks\",\r\n    age: 3,\r\n    light_cost: 9,\r\n    rock_cost: 7,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 5,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_MAR01: TTACard = {\r\n    code: \"MAR01\",\r\n    type: \"Military\",\r\n    subtype: \"Artillery\",\r\n    name: \"Cannon\",\r\n    age: 2,\r\n    light_cost: 7,\r\n    rock_cost: 5,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 3,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_MAR02: TTACard = {\r\n    code: \"MAR02\",\r\n    type: \"Military\",\r\n    subtype: \"Artillery\",\r\n    name: \"Rockets\",\r\n    age: 3,\r\n    light_cost: 10,\r\n    rock_cost: 7,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 5,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_MAI01: TTACard = {\r\n    code: \"MAI01\",\r\n    type: \"Military\",\r\n    subtype: \"Air Force\",\r\n    name: \"Air Forces\",\r\n    age: 3,\r\n    light_cost: 11,\r\n    rock_cost: 7,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 5,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Each unit also doubles the Tactics card bonus for 1 army\"\r\n}\r\n\r\nlet CARD_WON01: TTACard = {\r\n    code: \"WON01\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Hanging Gardens\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: 6,\r\n    food: null,\r\n    resource: null,\r\n    culture: 1,\r\n    strength: null,\r\n    happy: 2,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_WON02: TTACard = {\r\n    code: \"WON02\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Library of Alexandria\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: 6,\r\n    food: null,\r\n    resource: null,\r\n    culture: 1,\r\n    strength: null,\r\n    happy: null,\r\n    science: 1,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"You may have 1 extra civil and 1 extra military card in your hand\"\r\n}\r\n\r\nlet CARD_WON03: TTACard = {\r\n    code: \"WON03\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Colossus\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: 6,\r\n    food: null,\r\n    resource: null,\r\n    culture: 0,\r\n    strength: 2,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"At the start of Age II and Age III, you draw 3 military cards\"\r\n}\r\n\r\nlet CARD_WON04: TTACard = {\r\n    code: \"WON04\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Pyramids\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: 6,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: 1,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_WON05: TTACard = {\r\n    code: \"WON05\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Great Wall\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: 10,\r\n    food: null,\r\n    resource: null,\r\n    culture: 1,\r\n    strength: null,\r\n    happy: 1,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Adds +1 to your strength for each infantry and artillery unit\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        let countToken: number = 0;\r\n        s.Infantry.forEach(c => {\r\n            countToken += c.workers            \r\n        });\r\n        s.Artillery.forEach(c => {\r\n            countToken += c.workers\r\n        });\r\n        result.strength += countToken;\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_WON06: TTACard = {\r\n    code: \"WON06\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"St. Peter's Basilica\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: 8,\r\n    food: null,\r\n    resource: null,\r\n    culture: 2,\r\n    strength: null,\r\n    happy: 1,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Each of your other cards that produce at least 1 happy face produce 1 more happy face. St. Peter's Basilica produces +2 culture and +1 happy face. St. Peter's Basilica does not increase it's own happy face by 1.\"\r\n}\r\n\r\nlet CARD_WON07: TTACard = {\r\n    code: \"WON07\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Universitas Carolina\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: 9,\r\n    food: null,\r\n    resource: null,\r\n    culture: 1,\r\n    strength: null,\r\n    happy: null,\r\n    science: 2,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_WON08: TTACard = {\r\n    code: \"WON08\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Taj Mahal\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: 8,\r\n    food: null,\r\n    resource: null,\r\n    culture: 3,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_WON09: TTACard = {\r\n    code: \"WON09\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Transcontinental Railroad\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: 12,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 5,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"One of your best mines produces twice as many resources\"\r\n}\r\n\r\nlet CARD_WON10: TTACard = {\r\n    code: \"WON10\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Eiffel Tower\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: 13,\r\n    food: null,\r\n    resource: null,\r\n    culture: 4,\r\n    strength: null,\r\n    happy: 1,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_WON11: TTACard = {\r\n    code: \"WON11\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Kremlin\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: 12,\r\n    food: null,\r\n    resource: null,\r\n    culture: 3,\r\n    strength: null,\r\n    happy: -2,\r\n    science: null,\r\n    ca: 1,\r\n    ma: 1,\r\n    text: null\r\n}\r\n\r\nlet CARD_WON12: TTACard = {\r\n    code: \"WON12\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Ocean Liner Service\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: 12,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Once per turn, you can increase your population without a civil action for 5 food less\"\r\n}\r\n\r\nlet CARD_WON13: TTACard = {\r\n    code: \"WON13\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Hollywood\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: 16,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Immediately score 2 culture per level of each of your theaters and libraries\"\r\n}\r\n\r\nlet CARD_WON14: TTACard = {\r\n    code: \"WON14\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Internet\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: 14,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Immediately score 2 culture per level of each of your labs and libraries\"\r\n}\r\n\r\nlet CARD_WON15: TTACard = {\r\n    code: \"WON15\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"First Space Flight\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: 16,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Immediately score 1 culture per level of each of your technology cards\"\r\n}\r\n\r\nlet CARD_WON16: TTACard = {\r\n    code: \"WON16\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Fast Food Chains\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: 16,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Immediately score 1 culture every military/urban worker, 2 culture every farmer/miner\"\r\n}\r\n\r\nlet CARD_WON17: TTACard = {\r\n    code: \"WON17\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Colosseum\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: 6,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: 1,\r\n    science: null,\r\n    ca: null,\r\n    ma: 1,\r\n    text: \"Gain an extra happy face and one military action. You develop infantry an cavalry technologies with a science discount equal to their level. Whenever you do, score 2 culture.\"\r\n}\r\n\r\nlet CARD_WON18: TTACard = {\r\n    code: \"WON18\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Roman Roads\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: 5,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Gain an extra yellow token and an extra blue token. This effect varies by age: At Age Ⅰ: produce 1 resource. At Age Ⅱ: produce 1 science. At Age Ⅲ: produce 2 culture.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        if (s.Age==1)\r\n            result.resource = 1;\r\n        else if (s.Age==2)\r\n            result.science = 1;\r\n        else if (s.Age>2)\r\n            result.culture = 1;\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_WON19: TTACard = {\r\n    code: \"WON19\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Stonenhenge\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: 6,\r\n    food: null,\r\n    resource: null,\r\n    culture: 1,\r\n    strength: null,\r\n    happy: 1,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"1 happy face, +1 culture. For each stage of Stonehenge you build, immediately score science equal to that stage's cost.\"\r\n}\r\n\r\nlet CARD_WON20: TTACard = {\r\n    code: \"WON20\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Acropolis\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: 5,\r\n    food: null,\r\n    resource: null,\r\n    culture: 1,\r\n    strength: 1,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"1 strength, +1 culture. Your urban building limit is 1 higher. Peaceful change of government costs you 1 science less for each urban building you have.\"\r\n}\r\n\r\nlet CARD_WON21: TTACard = {\r\n    code: \"WON21\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Machu Picchu\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: 9,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"1 blue token. Your best Age A or Age I farm and your best Age A and Age I mine produce one extra blue token.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        let bestFarm = GetBestFromRangeArray(s.Productions, \"PFA\", 0, 1);\r\n        if (bestFarm)\r\n            result.food += (bestFarm.card.food);\r\n        let bestMine = GetBestFromRangeArray(s.Productions, \"PMI\", 0 ,1);\r\n        if (bestMine)\r\n            result.resource += (bestMine.card.resource);\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_WON22: TTACard = {\r\n    code: \"WON22\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Himeji Castle\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: 9,\r\n    food: null,\r\n    resource: null,\r\n    culture: 2,\r\n    strength: 2,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"When evaluating a war or an aggression, you may choose one of your units. Add its strength to your strength temporarily. It also gives you 3 culture if attacking or 3 strength if defending. After evaluation, sacrifice the unit.\"\r\n}\r\n\r\nlet CARD_WON23: TTACard = {\r\n    code: \"WON23\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Forbidden City\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: 8,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: 1,\r\n    ma: null,\r\n    text: \"Up to two of your discontent workers are ignored.\"\r\n}\r\n\r\nlet CARD_WON24: TTACard = {\r\n    code: \"WON24\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Silk Road\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: 7,\r\n    food: null,\r\n    resource: null,\r\n    culture: 2,\r\n    strength: null,\r\n    happy: null,\r\n    science: 1,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"The benefit of the first action card you play on your turn are increased by 1. This effect applies as soon as the first stage is built.\"\r\n}\r\n\r\nlet CARD_WON25: TTACard = {\r\n    code: \"WON25\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Harvard College\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: 11,\r\n    food: null,\r\n    resource: null,\r\n    culture: 1,\r\n    strength: null,\r\n    happy: null,\r\n    science: 3,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Once per turn, you may play an action card you took during that turn.\"\r\n}\r\n\r\nlet CARD_WON26: TTACard = {\r\n    code: \"WON26\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Statue of Liberty\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: 12,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Your government produce culture equal to its level.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        if (s.Governament.card != null)\r\n            result.culture += s.Governament.card.age;\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_WON27: TTACard = {\r\n    code: \"WON27\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Louvre Museum (no tokens)\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: 13,\r\n    food: null,\r\n    resource: null,\r\n    culture: 2,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"The Louver keeps its blue tokens when completed. Each can be spent during your Action Phase to gain 2 resource. The Louvre produce an extra 1 culture per blue token on it.\"\r\n}\r\n\r\nlet CARD_WON28: TTACard = {\r\n    code: \"WON28\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Suez Canal\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: 12,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"When you complete this wonder, you may colonize a territory in your hand. You produce an extra 1 resource for each colony you have.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        result.resource += s.Territories.length;\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_WON29: TTACard = {\r\n    code: \"WON29\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Empire State Building\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: 17,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Compare your science, culture, and strength rating, and your food and resource production with your opponents. For each you have higher than anyone else, score 7/8/9 culture (in a 2/3/4-player game).\"\r\n}\r\n\r\nlet CARD_WON30: TTACard = {\r\n    code: \"WON30\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"United Nations\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: 16,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Score 4 culture for each wonder, each special (blue) technology, or each type of urban building you have, whichever is highest. You may reveal an Age Ⅲ event from your hand, Evaluate it immediately, then return it to your hand.\"\r\n}\r\n\r\nlet CARD_WON31: TTACard = {\r\n    code: \"WON31\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"International Red Cross\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: 15,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Other player may also work on this wonder. Unlike you, they are limited to 1 stage per turn. For each stage, the player who build it immediately scores 6 culture. When completed, you score 1 culture for each colony in play.\"\r\n}\r\n\r\nlet CARD_WON32: TTACard = {\r\n    code: \"WON32\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Manhattan Projects\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: 14,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 13,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"You immediately score culture equal to your science rating.\"\r\n}\r\n\r\nlet CARD_WON33: TTACard = {\r\n    code: \"WON33\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Louvre Museum (1 token)\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: 13,\r\n    food: null,\r\n    resource: null,\r\n    culture: 3,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"The Louver keeps its blue tokens when completed. Each can be spent during your Action Phase to gain 2 resource. The Louvre produce an extra 1 culture per blue token on it.\"\r\n}\r\n\r\nlet CARD_WON34: TTACard = {\r\n    code: \"WON34\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Louvre Museum (2 tokens)\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: 13,\r\n    food: null,\r\n    resource: null,\r\n    culture: 4,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"The Louver keeps its blue tokens when completed. Each can be spent during your Action Phase to gain 2 resource. The Louvre produce an extra 1 culture per blue token on it.\"\r\n}\r\n\r\nlet CARD_WON35: TTACard = {\r\n    code: \"WON35\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Louvre Museum (3 tokens)\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: 13,\r\n    food: null,\r\n    resource: null,\r\n    culture: 5,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"The Louver keeps its blue tokens when completed. Each can be spent during your Action Phase to gain 2 resource. The Louvre produce an extra 1 culture per blue token on it.\"\r\n}\r\n\r\nlet CARD_WON99: TTACard = {\r\n    code: \"WON99\",\r\n    type: \"Wonder\",\r\n    subtype: \"Wonder\",\r\n    name: \"Ancient Ruins\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: 2,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_LEA01: TTACard = {\r\n    code: \"LEA01\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Julius Caesar\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 1,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: 1,\r\n    text: \"You gain +1 strength and +1 military action. Once per game, you may play another political action after already playing one.\"\r\n}\r\n\r\nlet CARD_LEA02: TTACard = {\r\n    code: \"LEA02\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Homer\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: 1,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Each round, you have extra 1 resource for building military; +1 happy face. When you replace Homer, instead of getting a civil action back, you may slide Homer under one of your finished wonders; that wonder now has +1 happy face. This happy face is not removed due to Ravages of Time.\"\r\n}\r\n\r\nlet CARD_LEA03: TTACard = {\r\n    code: \"LEA03\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Moses\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Increasing your population costs you 1 food less\"\r\n}\r\n\r\nlet CARD_LEA04: TTACard = {\r\n    code: \"LEA04\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Hammurabi\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: 1,\r\n    ma: -1,\r\n    text: \"You can use a military action as a civil action. Taking a leader from the card row costs you 1 action less.\"\r\n}\r\n\r\nlet CARD_LEA05: TTACard = {\r\n    code: \"LEA05\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Aristotle\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Every time you take a technology card from the card row, you score 1 science point\"\r\n}\r\n\r\nlet CARD_LEA06: TTACard = {\r\n    code: \"LEA06\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Alexander the Great\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Each of your military units gives you an additional +1 strength. As a political action, you may remove Alexander the Great from play to add a yellow token to your yellow bank.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        s.Infantry.forEach(c => {\r\n            result.strength += c.workers;\r\n        });\r\n        s.Cavallery.forEach(c => {\r\n            result.strength += c.workers;\r\n        });\r\n        s.Artillery.forEach(c => {\r\n            result.strength += c.workers;\r\n        });\r\n        result.strength += s.AirForce.workers;\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA07: TTACard = {\r\n    code: \"LEA07\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Michelangelo\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Temples, theaters, & wonders produce 1 extra culture per happy face; you don't spend extra civil actions per wonder for wonder cards\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        s.Urbans.forEach(c => {\r\n            if (c.card.code.startsWith(\"UT\"))\r\n                result.culture += (c.card.happy * c.workers);\r\n        });\r\n        s.Wonders.forEach(c => {\r\n            result.culture += (c.card.happy);\r\n        });\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA08: TTACard = {\r\n    code: \"LEA08\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Joan of Arc\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: 1,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: 1,\r\n    text: \"Temples and your government give you +1 strength for each happy face, during the Politics Phase you can see the top card of the Current Events deck.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        if (s.Governament)\r\n            result.strength += s.Governament.card.happy;\r\n        s.Urbans.forEach(c => {\r\n            if(c.card.code.startsWith(\"UTE\"))\r\n                result.strength += (c.card.happy * c.workers);\r\n        });\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA09: TTACard = {\r\n    code: \"LEA09\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Leonardo Da Vinci\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Best lab or library produces extra science: +1 per level; When you play a technology card, produce 1 resource\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        let bestLab = GetBestLab(s);\r\n        let bestLib = GetBestLibrary(s);\r\n        if ((bestLab)&&(bestLib))\r\n            result.science += Math.max(bestLab.card.age+1, bestLib.card.age);\r\n        else if (bestLib)\r\n            result.science += bestLib.card.age;\r\n        else if (bestLab)\r\n            result.science += (bestLab.card.age+1);\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA10: TTACard = {\r\n    code: \"LEA10\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Genghis Khan\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"You may count one of your infantry as calvary for tactics purposes. Gives +3 culture if your civilization is one of the two strongest (strongest in 2 player) civilizations.\"\r\n}\r\n\r\nlet CARD_LEA11: TTACard = {\r\n    code: \"LEA11\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Christopher Columbus\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Once during the game, you can use political action to colonize a territory in your hand without sacrificing units\"\r\n}\r\n\r\nlet CARD_LEA12: TTACard = {\r\n    code: \"LEA12\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Frederick Barbarossa\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"For 1 military action, you can increase your population by 1 worker, and build a new military unit with it. Costs 1 food and 1 resource less.\"\r\n}\r\n\r\nlet CARD_LEA13: TTACard = {\r\n    code: \"LEA13\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"William Shakespeare\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: 1,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Each library-theater pair produces an additional 2 culture. If you have a library you can discover and build theaters for one science/resource less, and vice versa. +1 happy face.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        let lbrCount = 0;\r\n        let thtCount = 0;\r\n        s.Urbans.forEach(c => {\r\n            if (c.code.startsWith(\"UL\") && (c.workers>0))\r\n                lbrCount += c.workers;\r\n            else if (c.code.startsWith(\"UTH\") && (c.workers>0))\r\n                thtCount += c.workers;\r\n        });\r\n        for(let i=0;i<Math.min(lbrCount, thtCount);i++)\r\n            result.culture += 2;\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA14: TTACard = {\r\n    code: \"LEA14\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"James Cook\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"When colonizing, each colonization bonus card has an additional +1. Colonies produce 2 culture each\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        s.Territories.forEach(c => {\r\n            result.culture += 2;\r\n        });\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA15: TTACard = {\r\n    code: \"LEA15\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Napoleon Bonaparte\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: 2,\r\n    text: \"You get a +2 military bonus for each different type of unit you have\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        let countArmy: number = 0;\r\n        s.Infantry.forEach(c => {countArmy += c.workers;});\r\n        if(countArmy>0)\r\n            result.strength += 2;\r\n        countArmy = 0;\r\n        s.Cavallery.forEach(c => {countArmy += c.workers;});\r\n        if(countArmy>0)\r\n            result.strength += 2;\r\n        countArmy = 0;\r\n        s.Artillery.forEach(c => {countArmy += c.workers;});\r\n        if(countArmy>0)\r\n            result.strength += 2;\r\n        countArmy = 0;\r\n        if (s.AirForce!=null)\r\n            if (s.AirForce.workers>0)\r\n                result.strength += 2;\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA16: TTACard = {\r\n    code: \"LEA16\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Maximillien Robespierre\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: 1,\r\n    text: \"Revolutions cost you all your military actions instead of all your civil actions. Gain 3 culture when declaring a revolution.\"\r\n}\r\n\r\nlet CARD_LEA17: TTACard = {\r\n    code: \"LEA17\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"J.S. Bach\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"It costs you 1 science less to discover theater techs; theaters cost 1 less resource to build and produce 1 extra culture\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        s.Urbans.forEach(c => {\r\n            if (c.code.startsWith(\"UTH\")&&(c.workers>0))\r\n                result.culture += c.workers;\r\n        });\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA18: TTACard = {\r\n    code: \"LEA18\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Isaac Newton\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"You best lab or library produces extra science equal to its level; every time you play a technology card, get 1 spent civil action back\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let levelLab: number = 0;\r\n        let levelLibrary: number = 0;\r\n        s.Urbans.forEach(c => {\r\n            if ((c.card.code.startsWith(\"ULI\"))&&(c.workers>0))\r\n                levelLibrary = Math.max(levelLibrary, c.card.age);\r\n            else if ((c.card.code.startsWith(\"ULA\"))&&(c.workers>0))\r\n                levelLab= Math.max(levelLab, c.card.age);\r\n        });\r\n\r\n        let result = new SceneValuesModifier();\r\n        result.science += Math.max(levelLab, levelLibrary);\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA19: TTACard = {\r\n    code: \"LEA19\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Albert Einstein\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Your best lab or library produces extra science: 1 per level; Score 3 culture when you play a tech card\"\r\n}\r\n\r\nlet CARD_LEA20: TTACard = {\r\n    code: \"LEA20\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Mahatma Gandhi\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: 2,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Mahatma Gandhi produces +2 culture. You may not play aggression or war cards; opponents pay 2x the military actions to play them against you.\"\r\n}\r\n\r\nlet CARD_LEA21: TTACard = {\r\n    code: \"LEA21\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Rock & Roll Icon\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: 2,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Best theater produces twice as much culture\"\r\n}\r\n\r\nlet CARD_LEA22: TTACard = {\r\n    code: \"LEA22\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Nikolai Tesla\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Each lab produces resources: 1 per level; it costs other players 1 extra resource to build or upgrade labs or libraries\"\r\n}\r\n\r\nlet CARD_LEA23: TTACard = {\r\n    code: \"LEA23\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Winston Churchill\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Each turn, you can choose to either gain 3 culture or 3 resources for military units + 3 science for military unit technologies.\"\r\n}\r\n\r\nlet CARD_LEA24: TTACard = {\r\n    code: \"LEA24\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Sid Meier\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Each of your labs produces culture: 1 per level; each lab produces 1 less science\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        \r\n        s.Urbans.forEach(c => {\r\n            if ((c.card.code.startsWith(\"ULA\"))&&(c.workers>0))\r\n            {\r\n                result.culture += (c.card.age * c.workers);\r\n                result.science -= (c.workers);\r\n            }\r\n        });\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA25: TTACard = {\r\n    code: \"LEA25\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Boudica\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"At the start of your turn: if you are one of the two weakest players, gain two resource for building and upgrading units. Otherwise, gain 1 food, 1 resource, or 1 science point.\"\r\n}\r\n\r\nlet CARD_LEA26: TTACard = {\r\n    code: \"LEA26\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Cleopatra\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"During your action phase, you have an extra resource for building wonders or for building and upgrading urban buildings.\"\r\n}\r\n\r\nlet CARD_LEA27: TTACard = {\r\n    code: \"LEA27\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Hippocrates\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"At the start of your turn, take an extra yellow token from the box and put it above your government card(up to a maximum of 3). After losing yellow tokens at the end of Age I, Ⅱ and Ⅲ, add one of these yellow tokens to your yellow bank.\"\r\n}\r\n\r\nlet CARD_LEA28: TTACard = {\r\n    code: \"LEA28\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Confucius\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Whenever you prepare an event and when Confucius leaves play, score 1 science point. You can prepare non-event military cards as events. When revealed, non-event cards are treated as \\\"Everyone gains 1 science point\\\" events\"\r\n}\r\n\r\nlet CARD_LEA29: TTACard = {\r\n    code: \"LEA29\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Sun Tzu\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 1,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"You gain +1 strength. You skip your Make Tactics Available step during Start-of-Action. You draw 2 additional military cards during your End-of-Turn. When this card leaves play, slide it under your currant tactic, it permanently gains +1 strength.\"\r\n}\r\n\r\nlet CARD_LEA30: TTACard = {\r\n    code: \"LEA30\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Ashoka\",\r\n    age: 0,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"If you have civil cards of two different colors in your hand, you produce an extra resource. If three or more colors, you produce an extra food and an extra resource.\"\r\n}\r\n\r\nlet CARD_LEA31: TTACard = {\r\n    code: \"LEA31\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Isabella of Castile\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: 1,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    box: 2,\r\n    text: \"You produce an extra resource and gains two extra Blue tokens. During colonization, you may pay 1, 3, or 6 resource to gain +1, +2, +3 colonization point.\"\r\n}\r\n\r\nlet CARD_LEA32: TTACard = {\r\n    code: \"LEA32\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Eleanor of Aquitaine\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Whenever you prepare an event, you draw two military cards. Scores 1 culture For each military card you have to discard at the end of your turn. When Eleanor is replaced, get 3 civil actions back instead of 1.\"\r\n}\r\n\r\nlet CARD_LEA33: TTACard = {\r\n    code: \"LEA33\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Jan Žižka\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: 1,\r\n    text: \"You gain an extra military action. For Purpose of tactics, each of your farm can be considered as an Age A infantry or artillery unit. Each of your armies produce 1 culture.\"\r\n}\r\n\r\nlet CARD_LEA34: TTACard = {\r\n    code: \"LEA34\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Nostradamus\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"When you prepare an event, score an extra 3 culture. When Another player prepare an event, look at it. When determining who is the weakest during events, or defending against aggressions, you have +3 strength.\"\r\n}\r\n\r\nlet CARD_LEA35: TTACard = {\r\n    code: \"LEA35\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Johannes Gutenberg\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Each turn, you have an extra civil action for taking, developing, building or upgrading your labs and libraries, with a discount of 1 science or 1 resource. Whenever you use this action, score 2 culture.\"\r\n}\r\n\r\nlet CARD_LEA36: TTACard = {\r\n    code: \"LEA36\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Saladin\",\r\n    age: 1,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Immediately after your Action Phase, decide either to increase your strength by 2 or to gain 1 civil action. Either lasts until the next decision or until Saladin leaves play.\"\r\n}\r\n\r\nlet CARD_LEA37: TTACard = {\r\n    code: \"LEA37\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Catherine the Great\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: 2,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: 1,\r\n    text: \"Gain an extra military action and produce 2 culture. Once per game, as a political action, you may cause each civilization with a lower strength rating to lose 1 yellow token. if at least one token is lose (two in a 4-player game), you gain 1 yellow token.\"\r\n}\r\n\r\nlet CARD_LEA38: TTACard = {\r\n    code: \"LEA38\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Maria Theresa\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Whenever you gain or increase your population, score 1 science and 1 culture. At the start of your Action Phase, you get 1 resource for building and upgrading military units(3 if you are one of the two weakest players).\"\r\n}\r\n\r\nlet CARD_LEA39: TTACard = {\r\n    code: \"LEA39\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"James Watt\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Your farms and mines and their technologies have a reduced cost: At Age Ⅲ: -4 resource, -4 science. At Age Ⅱ: -2 resource, -2 science. When Watt leaves play, score culture equal to the production of your best farm or mine.\"\r\n}\r\n\r\nlet CARD_LEA40: TTACard = {\r\n    code: \"LEA40\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Alfred Nobel\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: 2,\r\n    strength: null,\r\n    happy: null,\r\n    science: 2,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"You gain +2 strength and produce +2 science If Nobel is replaced, do not get 1 civil action back. Instead, put this card by the culture track. From then on, any civilization scores 4 culture at the end of a turn in which it developed at least 2 technologies.\"\r\n}\r\n\r\nlet CARD_LEA41: TTACard = {\r\n    code: \"LEA41\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Antoni Gaudí\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Developing an urban building technology cost you 1 science less for each other type of urban buildings you have. Your best urban building of each type produce 1 extra culture.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let levelLab: number = 0;\r\n        let levelTheology: number = 0;\r\n        let levelTheater: number = 0;\r\n        let levelLibrary: number = 0;\r\n        let levelArena: number = 0;\r\n        s.Urbans.forEach(c => {\r\n            if ((c.card.code.startsWith(\"UTH\"))&&(c.workers>0))\r\n                levelTheater = Math.max(levelTheater, c.card.age);\r\n            else if ((c.card.code.startsWith(\"UTE\"))&&(c.workers>0))\r\n                levelTheology = Math.max(levelTheology, c.card.age);\r\n            else if ((c.card.code.startsWith(\"ULI\"))&&(c.workers>0))\r\n                levelLibrary = Math.max(levelLibrary, c.card.age);\r\n            else if ((c.card.code.startsWith(\"UAR\"))&&(c.workers>0))\r\n                levelArena = Math.max(levelArena, c.card.age);\r\n                else if ((c.card.code.startsWith(\"ULA\"))&&(c.workers>0))\r\n                levelLab= Math.max(levelLab, c.card.age);\r\n        });\r\n\r\n        let result = new SceneValuesModifier();\r\n        result.culture = (levelTheater + levelTheology + levelLibrary + levelArena + levelLab);\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA42: TTACard = {\r\n    code: \"LEA42\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Charles Darwin\",\r\n    age: 2,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Each of your temples gives you one happy face less. Each of your labs and libraries produces 1 extra culture. Taking a technology card cost you 1 civil action less, but no less than 1.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        s.Urbans.forEach(c => {\r\n            if (c.card.subtype == \"Temple\")\r\n                result.happy -= c.workers;\r\n            else if (c.card.code.startsWith(\"ULA\")||c.card.code.startsWith(\"ULI\"))\r\n                result.culture += c.workers;\r\n        });\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA43: TTACard = {\r\n    code: \"LEA43\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Marie Curie Sklodowska\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Your best mine produces science equal to its level. Your best lab gives you strength equal to its level. Sklodowska produces culture equal to the better of these two.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        let levelMine: number = 0;\r\n        s.Productions.forEach(c => {\r\n            if ((c.card.subtype == \"Mine\")&&(c.workers>0))\r\n                levelMine = Math.max(levelMine, (c.card.age+1));\r\n        });\r\n        let levelLab: number = 0;\r\n        s.Urbans.forEach(c => {\r\n            if ((c.card.subtype == \"Lab\")&&(c.workers>0))\r\n                levelLab = Math.max(levelLab, (c.card.age+1));\r\n        });\r\n\r\n        result.science = levelMine;\r\n        result.strength = levelLab;\r\n        result.culture = Math.max(levelMine, levelLab);\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA44: TTACard = {\r\n    code: \"LEA44\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Marlene Dietrich\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Each of your best theaters produces an extra 1 culture and 1 happy face. One of your infantry, cavalry, or artillery units counts twice for purpose of tactics.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        let levelTheater: number = 0;\r\n        let workers: number = 0;\r\n        s.Urbans.forEach(c => {\r\n            if ((c.card.subtype == \"Theater\")&&(c.workers>0))\r\n                if (c.card.age>levelTheater)\r\n                {\r\n                    levelTheater = c.card.age;\r\n                    workers = c.workers;\r\n                }\r\n        });\r\n        \r\n        result.happy = workers;\r\n        result.culture = workers;\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA45: TTACard = {\r\n    code: \"LEA45\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Steve Jobs\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Your best lab gives you happy faces equal to its level. Whenever you develop a technology, you may pay 1 resource to score 4 culture.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        let levelLab: number = 0;\r\n        s.Urbans.forEach(c => {\r\n            if ((c.card.subtype == \"Lab\")&&(c.workers>0))\r\n                levelLab = Math.max(levelLab, (c.card.age)+1);\r\n        });\r\n        result.happy = levelLab;\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA46: TTACard = {\r\n    code: \"LEA46\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Nelson Mandela\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: 2,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: 1,\r\n    ma: null,\r\n    text: \"You gain an extra civil action and produce 2 culture. If you have no discontent workers, taking this card costs 2 civil actions more. Ate the end of your turn, score 1 culture for each surplus happy face.\",\r\n    getSceneValuesModifier: (s:Scene, currentValues: TTASceneValues) => {\r\n        let result = new SceneValuesModifier();\r\n        let happy = Math.min(currentValues.happy.Value(), 8);\r\n        let faceNeed: number = 0;\r\n        if (s.yellowToken>16)\r\n            faceNeed = 1;\r\n        else if (s.yellowToken>12)\r\n            faceNeed = 2;\r\n        else\r\n            faceNeed = (6 - Math.ceil(s.yellowToken / 2)) + 2;\r\n        console.log(\"faceNeed: \" + faceNeed);\r\n        console.log(\"happy: \" + happy);\r\n        if ((happy-faceNeed)>0)\r\n            result.culture += (happy-faceNeed);\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA47: TTACard = {\r\n    code: \"LEA47\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Pierre de Cubertin\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Each of your arenas produces 2 culture. Once per game, before your political action, you may declare the Olympic Games: score 8 culture, and until the start of your next turn, whoever plays a war or aggression loses 8 culture.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let result = new SceneValuesModifier();\r\n        s.Urbans.forEach(c => {\r\n            if (c.card.subtype == \"Arena\")\r\n                result.culture += (c.workers*2);\r\n        });\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA48: TTACard = {\r\n    code: \"LEA48\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Ian Flemming\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Your best library and theater each produce extra culture equal to their levels. At the beginning of your Politics Phase, you may look at one player's military cards. You cannot choose the same player on two consecutive turns.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let levelTheater: number = 0;\r\n        let levelLibrary: number = 0;\r\n        s.Urbans.forEach(c => {\r\n            if ((c.card.subtype == \"Theater\")&&(c.workers>0))\r\n                levelTheater = Math.max(levelTheater, c.card.age);\r\n            else if ((c.card.subtype == \"Library\")&&(c.workers>0))\r\n                levelLibrary = Math.max(levelLibrary, c.card.age);\r\n        });\r\n\r\n        let result = new SceneValuesModifier();\r\n        result.culture = (levelTheater + levelLibrary);\r\n        return result;\r\n    }\r\n}\r\n\r\nlet CARD_LEA49: TTACard = {\r\n    code: \"LEA49\",\r\n    type: \"Leader\",\r\n    subtype: \"Leader\",\r\n    name: \"Bill Gates\",\r\n    age: 3,\r\n    light_cost: null,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Each of your labs also produces rocks equal to its level. When Bill Gates leaves play or at the end of the game, score culture equal to this additional production.\",\r\n    getSceneValuesModifier: (s:Scene) => {\r\n        let levelLab: number = 0;\r\n\r\n        let result = new SceneValuesModifier();\r\n        s.Urbans.forEach(c => {\r\n            if ((c.card.subtype == \"Lab\")&&(c.workers>0))\r\n                result.resource = result.resource + ( c.card.age * c.workers );\r\n        });\r\n\r\n        \r\n        \r\n        return result;\r\n    }\r\n}\r\n\r\n\r\nlet CARD_GOV01: TTACard = {\r\n    code: \"GOV01\",\r\n    type: \"Govt\",\r\n    subtype: \"Govt\",\r\n    name: \"Despotism\",\r\n    age: 0,\r\n    light_cost: 0,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: 4,\r\n    ma: 2,\r\n    text: \"Building limit: 2\"\r\n}\r\n\r\nlet CARD_GOV02: TTACard = {\r\n    code: \"GOV02\",\r\n    type: \"Govt\",\r\n    subtype: \"Govt\",\r\n    name: \"Monarchy\",\r\n    age: 1,\r\n    light_cost: 9,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: 5,\r\n    ma: 3,\r\n    text: \"Building limit: 3\"\r\n}\r\n\r\nlet CARD_GOV03: TTACard = {\r\n    code: \"GOV03\",\r\n    type: \"Govt\",\r\n    subtype: \"Govt\",\r\n    name: \"Theocracy\",\r\n    age: 1,\r\n    light_cost: 7,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: 1,\r\n    strength: null,\r\n    happy: 2,\r\n    science: null,\r\n    ca: 4,\r\n    ma: 3,\r\n    text: \"Building limit: 3\"\r\n}\r\n\r\nlet CARD_GOV04: TTACard = {\r\n    code: \"GOV04\",\r\n    type: \"Govt\",\r\n    subtype: \"Govt\",\r\n    name: \"Constitutional Monarchy\",\r\n    age: 2,\r\n    light_cost: 12,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: 6,\r\n    ma: 4,\r\n    text: \"Building limit: 3\"\r\n}\r\n\r\nlet CARD_GOV05: TTACard = {\r\n    code: \"GOV05\",\r\n    type: \"Govt\",\r\n    subtype: \"Govt\",\r\n    name: \"Republic\",\r\n    age: 2,\r\n    light_cost: 14,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: 7,\r\n    ma: 2,\r\n    text: \"Building limit: 3\"\r\n}\r\n\r\nlet CARD_GOV06: TTACard = {\r\n    code: \"GOV06\",\r\n    type: \"Govt\",\r\n    subtype: \"Govt\",\r\n    name: \"Communism\",\r\n    age: 3,\r\n    light_cost: 17,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: -1,\r\n    science: null,\r\n    ca: 7,\r\n    ma: 5,\r\n    text: \"Building limit: 4\"\r\n}\r\n\r\nlet CARD_GOV07: TTACard = {\r\n    code: \"GOV07\",\r\n    type: \"Govt\",\r\n    subtype: \"Govt\",\r\n    name: \"Democracy\",\r\n    age: 3,\r\n    light_cost: 21,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: 3,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: 7,\r\n    ma: 3,\r\n    text: \"Building limit: 4\"\r\n}\r\n\r\nlet CARD_GOV08: TTACard = {\r\n    code: \"GOV08\",\r\n    type: \"Govt\",\r\n    subtype: \"Govt\",\r\n    name: \"Fundamentalism\",\r\n    age: 3,\r\n    light_cost: 19,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 5,\r\n    happy: null,\r\n    science: null,\r\n    ca: 6,\r\n    ma: 5,\r\n    text: \"Building limit: 4\"\r\n}\r\n\r\nlet CARD_SMI01: TTACard = {\r\n    code: \"SMI01\",\r\n    type: \"Special\",\r\n    subtype: \"Military\",\r\n    name: \"Warfare\",\r\n    age: 1,\r\n    light_cost: 4,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 1,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: 1,\r\n    text: null\r\n}\r\n\r\nlet CARD_SMI02: TTACard = {\r\n    code: \"SMI02\",\r\n    type: \"Special\",\r\n    subtype: \"Military\",\r\n    name: \"Strategy\",\r\n    age: 2,\r\n    light_cost: 8,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 3,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: 2,\r\n    text: null\r\n}\r\n\r\nlet CARD_SMI03: TTACard = {\r\n    code: \"SMI03\",\r\n    type: \"Special\",\r\n    subtype: \"Military\",\r\n    name: \"Military Theory\",\r\n    age: 3,\r\n    light_cost: 12,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 5,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: 3,\r\n    text: null\r\n}\r\n\r\nlet CARD_SCI01: TTACard = {\r\n    code: \"SCI01\",\r\n    type: \"Special\",\r\n    subtype: \"Civil\",\r\n    name: \"Code of Laws\",\r\n    age: 1,\r\n    light_cost: 6,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: 1,\r\n    ma: null,\r\n    text: null\r\n}\r\n\r\nlet CARD_SCI02: TTACard = {\r\n    code: \"SCI02\",\r\n    type: \"Special\",\r\n    subtype: \"Civil\",\r\n    name: \"Justice System\",\r\n    age: 2,\r\n    light_cost: 7,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: 1,\r\n    ma: null,\r\n    text: \"Add 3 blue tokens\"\r\n}\r\n\r\nlet CARD_SCI03: TTACard = {\r\n    code: \"SCI03\",\r\n    type: \"Special\",\r\n    subtype: \"Civil\",\r\n    name: \"Civil Service\",\r\n    age: 3,\r\n    light_cost: 10,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: 2,\r\n    ma: null,\r\n    text: \"Add 3 blue tokens\"\r\n}\r\n\r\nlet CARD_SCL01: TTACard = {\r\n    code: \"SCL01\",\r\n    type: \"Special\",\r\n    subtype: \"Colonization\",\r\n    name: \"Cartography\",\r\n    age: 1,\r\n    light_cost: 4,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 1,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Get a +2 bonus when colonizing new territories\"\r\n}\r\n\r\nlet CARD_SCL02: TTACard = {\r\n    code: \"SCL02\",\r\n    type: \"Special\",\r\n    subtype: \"Colonization\",\r\n    name: \"Navigation\",\r\n    age: 2,\r\n    light_cost: 6,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 2,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Get a +3 bonus when colonizing new territories\"\r\n}\r\n\r\nlet CARD_SCL03: TTACard = {\r\n    code: \"SCL03\",\r\n    type: \"Special\",\r\n    subtype: \"Colonization\",\r\n    name: \"Satellites\",\r\n    age: 3,\r\n    light_cost: 8,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: 3,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Get a +4 bonus when colonizing new territories\"\r\n}\r\n\r\nlet CARD_SCO01: TTACard = {\r\n    code: \"SCO01\",\r\n    type: \"Special\",\r\n    subtype: \"Construction\",\r\n    name: \"Masonry\",\r\n    age: 1,\r\n    light_cost: 3,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Level I, II, and III buildings cost 1 less resource; can build up to 2 stages of wonder in 1 civil action\"\r\n}\r\n\r\nlet CARD_SCO02: TTACard = {\r\n    code: \"SCO02\",\r\n    type: \"Special\",\r\n    subtype: \"Construction\",\r\n    name: \"Architecture\",\r\n    age: 2,\r\n    light_cost: 6,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Level I buildings cost 1 less resource; level II & III 2 less; can build up to 3 stages of wonder in 1 civil action\"\r\n}\r\n\r\nlet CARD_SCO03: TTACard = {\r\n    code: \"SCO03\",\r\n    type: \"Special\",\r\n    subtype: \"Construction\",\r\n    name: \"Engineering\",\r\n    age: 3,\r\n    light_cost: 9,\r\n    rock_cost: null,\r\n    food: null,\r\n    resource: null,\r\n    culture: null,\r\n    strength: null,\r\n    happy: null,\r\n    science: null,\r\n    ca: null,\r\n    ma: null,\r\n    text: \"Level I buildings cost 1 less resource; level II 2 less, and level III 3 less; can build up to 4 stages of wonder in 1 civil action\"\r\n}\r\n\r\nlet CARD_TAC01: TTATacticCard = {\r\n    code: \"TAC01\",\r\n    name: \"Fighting Band\",\r\n    age: 1,\r\n    strength: 1,\r\n    strengthObs: 0,\r\n    ninf: 2,\r\n    ncav: 0,\r\n    nart: 0,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC02: TTATacticCard = {\r\n    code: \"TAC02\",\r\n    name: \"Legion\",\r\n    age: 1,\r\n    strength: 2,\r\n    strengthObs: 0,\r\n    ninf: 3,\r\n    ncav: 0,\r\n    nart: 0,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC03: TTATacticCard = {\r\n    code: \"TAC03\",\r\n    name: \"Phalanx\",\r\n    age: 1,\r\n    strength: 3,\r\n    strengthObs: 0,\r\n    ninf: 2,\r\n    ncav: 1,\r\n    nart: 0,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC04: TTATacticCard = {\r\n    code: \"TAC04\",\r\n    name: \"Heavy Cavalry\",\r\n    age: 1,\r\n    strength: 4,\r\n    strengthObs: 0,\r\n    ninf: 0,\r\n    ncav: 3,\r\n    nart: 0,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC05: TTATacticCard = {\r\n    code: \"TAC05\",\r\n    name: \"Medieval Army\",\r\n    age: 1,\r\n    strength: 2,\r\n    strengthObs: 0,\r\n    ninf: 1,\r\n    ncav: 1,\r\n    nart: 0,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC06: TTATacticCard = {\r\n    code: \"TAC06\",\r\n    name: \"Napoleonic Army\",\r\n    age: 2,\r\n    strength: 7,\r\n    strengthObs: 4,\r\n    ninf: 1,\r\n    ncav: 1,\r\n    nart: 1,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC07: TTATacticCard = {\r\n    code: \"TAC07\",\r\n    name: \"Defensive Army\",\r\n    age: 2,\r\n    strength: 6,\r\n    strengthObs: 3,\r\n    ninf: 2,\r\n    ncav: 0,\r\n    nart: 1,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC08: TTATacticCard = {\r\n    code: \"TAC08\",\r\n    name: \"Conquistadores\",\r\n    age: 2,\r\n    strength: 5,\r\n    strengthObs: 3,\r\n    ninf: 1,\r\n    ncav: 2,\r\n    nart: 0,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC09: TTATacticCard = {\r\n    code: \"TAC09\",\r\n    name: \"Fortifications\",\r\n    age: 2,\r\n    strength: 5,\r\n    strengthObs: 3,\r\n    ninf: 0,\r\n    ncav: 0,\r\n    nart: 2,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC10: TTATacticCard = {\r\n    code: \"TAC10\",\r\n    name: \"Classic Army\",\r\n    age: 2,\r\n    strength: 8,\r\n    strengthObs: 4,\r\n    ninf: 2,\r\n    ncav: 2,\r\n    nart: 0,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC11: TTATacticCard = {\r\n    code: \"TAC11\",\r\n    name: \"Mobile Artillery\",\r\n    age: 2,\r\n    strength: 5,\r\n    strengthObs: 3,\r\n    ninf: 0,\r\n    ncav: 1,\r\n    nart: 1,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC12: TTATacticCard = {\r\n    code: \"TAC12\",\r\n    name: \"Hussars\",\r\n    age: 2,\r\n    strength: 2,\r\n    strengthObs: 0,\r\n    ninf: 0,\r\n    ncav: 2,\r\n    nart: 0,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC13: TTATacticCard = {\r\n    code: \"TAC13\",\r\n    name: \"Entrenchments\",\r\n    age: 3,\r\n    strength: 9,\r\n    strengthObs: 5,\r\n    ninf: 1,\r\n    ncav: 0,\r\n    nart: 2,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC14: TTATacticCard = {\r\n    code: \"TAC14\",\r\n    name: \"Modern Army\",\r\n    age: 3,\r\n    strength: 13,\r\n    strengthObs: 7,\r\n    ninf: 2,\r\n    ncav: 1,\r\n    nart: 1,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC15: TTATacticCard = {\r\n    code: \"TAC15\",\r\n    name: \"Mechanized Army\",\r\n    age: 3,\r\n    strength: 10,\r\n    strengthObs: 5,\r\n    ninf: 0,\r\n    ncav: 1,\r\n    nart: 2,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC16: TTATacticCard = {\r\n    code: \"TAC16\",\r\n    name: \"Shock Troops\",\r\n    age: 3,\r\n    strength: 11,\r\n    strengthObs: 6,\r\n    ninf: 1,\r\n    ncav: 3,\r\n    nart: 0,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TAC17: TTATacticCard = {\r\n    code: \"TAC17\",\r\n    name: \"Positional Army\",\r\n    age: 3,\r\n    strength: 12,\r\n    strengthObs: 6,\r\n    ninf: 2,\r\n    ncav: 0,\r\n    nart: 2,\r\n    nair: 0\r\n}\r\n\r\nlet CARD_TER01: TTACard = {\r\n    code: \"TER01\",\r\n    name: \"Vast Territory\",\r\n    age: 1,\r\n    strength: 0,\r\n    pop: 3,\r\n    box: -1,\r\n    happy: 0,\r\n    ca: 0,\r\n    ma: 0,\r\n    text: \"Add 3 food\",\r\n    type: \"Territory\",\r\n    subtype: \"Territory\",\r\n    light_cost: 0,\r\n    rock_cost: 0,\r\n    food: 0,\r\n    resource: 0,\r\n    culture: 0,\r\n    science: 0\r\n}\r\n\r\nlet CARD_TER02: TTACard = {\r\n    code: \"TER02\",\r\n    name: \"Wealthy Territory\",\r\n    age: 1,\r\n    strength: 0,\r\n    pop: 0,\r\n    box: 3,\r\n    happy: 0,\r\n    ca: 0,\r\n    ma: 0,\r\n    text: \"add 6 rock\",\r\n    type: \"Territory\",\r\n    subtype: \"Territory\",\r\n    light_cost: 0,\r\n    rock_cost: 0,\r\n    food: 0,\r\n    resource: 0,\r\n    culture: 0,\r\n    science: 0\r\n}\r\n\r\nlet CARD_TER03: TTACard = {\r\n    code: \"TER03\",\r\n    name: \"Inhabited Territory\",\r\n    age: 1,\r\n    strength: 0,\r\n    pop: 2,\r\n    box: 0,\r\n    happy: 0,\r\n    ca: 0,\r\n    ma: 0,\r\n    text: \"Add 1 pop to reserve and 1 ready to play\",\r\n    type: \"Territory\",\r\n    subtype: \"Territory\",\r\n    light_cost: 0,\r\n    rock_cost: 0,\r\n    food: 0,\r\n    resource: 0,\r\n    culture: 0,\r\n    science: 0\r\n}\r\n\r\nlet CARD_TER04: TTACard = {\r\n    code: \"TER04\",\r\n    name: \"Strategic Territory\",\r\n    age: 1,\r\n    strength: 2,\r\n    pop: 0,\r\n    box: 0,\r\n    happy: 0,\r\n    ca: 0,\r\n    ma: 0,\r\n    text: \"Add 3 military card\",\r\n    type: \"Territory\",\r\n    subtype: \"Territory\",\r\n    light_cost: 0,\r\n    rock_cost: 0,\r\n    food: 0,\r\n    resource: 0,\r\n    culture: 0,\r\n    science: 0\r\n}\r\n\r\nlet CARD_TER05: TTACard = {\r\n    code: \"TER05\",\r\n    name: \"Historic Territory\",\r\n    age: 1,\r\n    strength: 0,\r\n    pop: 0,\r\n    box: 0,\r\n    happy: 1,\r\n    ca: 0,\r\n    ma: 0,\r\n    text: \"Add 6 culture point\",\r\n    type: \"Territory\",\r\n    subtype: \"Territory\",\r\n    light_cost: 0,\r\n    rock_cost: 0,\r\n    food: 0,\r\n    resource: 0,\r\n    culture: 0,\r\n    science: 0\r\n}\r\n\r\nlet CARD_TER06: TTACard = {\r\n    code: \"TER06\",\r\n    name: \"Developed Territory\",\r\n    age: 1,\r\n    strength: 0,\r\n    pop: 1,\r\n    box: 1,\r\n    happy: 0,\r\n    ca: 0,\r\n    ma: 0,\r\n    text: \"Add 3 science\",\r\n    type: \"Territory\",\r\n    subtype: \"Territory\",\r\n    light_cost: 0,\r\n    rock_cost: 0,\r\n    food: 0,\r\n    resource: 0,\r\n    culture: 0,\r\n    science: 0\r\n}\r\n\r\nlet CARD_TER07: TTACard = {\r\n    code: \"TER07\",\r\n    name: \"Vast Territory\",\r\n    age: 2,\r\n    strength: 0,\r\n    pop: 4,\r\n    box: -1,\r\n    happy: 0,\r\n    ca: 0,\r\n    ma: 0,\r\n    text: \"Add 4 food\",\r\n    type: \"Territory\",\r\n    subtype: \"Territory\",\r\n    light_cost: 0,\r\n    rock_cost: 0,\r\n    food: 0,\r\n    resource: 0,\r\n    culture: 0,\r\n    science: 0\r\n}\r\n\r\nlet CARD_TER08: TTACard = {\r\n    code: \"TER08\",\r\n    name: \"Wealthy Territory\",\r\n    age: 2,\r\n    strength: 0,\r\n    pop: 0,\r\n    box: 4,\r\n    happy: 0,\r\n    ca: 0,\r\n    ma: 0,\r\n    text: \"Add 9 rock\",\r\n    type: \"Territory\",\r\n    subtype: \"Territory\",\r\n    light_cost: 0,\r\n    rock_cost: 0,\r\n    food: 0,\r\n    resource: 0,\r\n    culture: 0,\r\n    science: 0\r\n}\r\n\r\nlet CARD_TER09: TTACard = {\r\n    code: \"TER09\",\r\n    name: \"Inhabited Territory\",\r\n    age: 2,\r\n    strength: 0,\r\n    pop: 3,\r\n    box: 0,\r\n    happy: 0,\r\n    ca: 0,\r\n    ma: 0,\r\n    text: \"Add 3 pop to reserve and 2 ready to play\",\r\n    type: \"Territory\",\r\n    subtype: \"Territory\",\r\n    light_cost: 0,\r\n    rock_cost: 0,\r\n    food: 0,\r\n    resource: 0,\r\n    culture: 0,\r\n    science: 0\r\n}\r\n\r\nlet CARD_TER10: TTACard = {\r\n    code: \"TER10\",\r\n    name: \"Strategic Territory\",\r\n    age: 2,\r\n    strength: 4,\r\n    pop: 0,\r\n    box: 0,\r\n    happy: 0,\r\n    ca: 0,\r\n    ma: 0,\r\n    text: \"Add 5 military card\",\r\n    type: \"Territory\",\r\n    subtype: \"Territory\",\r\n    light_cost: 0,\r\n    rock_cost: 0,\r\n    food: 0,\r\n    resource: 0,\r\n    culture: 0,\r\n    science: 0\r\n}\r\n\r\nlet CARD_TER11: TTACard = {\r\n    code: \"TER11\",\r\n    name: \"Historic Territory\",\r\n    age: 2,\r\n    strength: 0,\r\n    pop: 0,\r\n    box: 0,\r\n    happy: 2,\r\n    ca: 0,\r\n    ma: 0,\r\n    text: \"Add 11 culture point\",\r\n    type: \"Territory\",\r\n    subtype: \"Territory\",\r\n    light_cost: 0,\r\n    rock_cost: 0,\r\n    food: 0,\r\n    resource: 0,\r\n    culture: 0,\r\n    science: 0\r\n}\r\n\r\nlet CARD_TER12: TTACard = {\r\n    code: \"TER12\",\r\n    name: \"Developed Territory\",\r\n    age: 1,\r\n    strength: 0,\r\n    pop: 2,\r\n    box: 2,\r\n    happy: 0,\r\n    ca: 0,\r\n    ma: 0,\r\n    text: \"Add 5 science\",\r\n    type: \"Territory\",\r\n    subtype: \"Territory\",\r\n    light_cost: 0,\r\n    rock_cost: 0,\r\n    food: 0,\r\n    resource: 0,\r\n    culture: 0,\r\n    science: 0\r\n}\r\n\r\nlet CARD_TER13: TTACard = {\r\n    code: \"TER13\",\r\n    name: \"Autonomous Territory\",\r\n    age: 2,\r\n    strength: 0,\r\n    pop: 0,\r\n    box: -2,\r\n    happy: 0,\r\n    ca: 1,\r\n    ma: 1,\r\n    text: \"Choose one: Gain 4 science, 5 rock, 6 food, or 7 culture point.\",\r\n    type: \"Territory\",\r\n    subtype: \"Territory\",\r\n    light_cost: 0,\r\n    rock_cost: 0,\r\n    food: 0,\r\n    resource: 0,\r\n    culture: 0,\r\n    science: 0\r\n}\r\n\r\nexport class TTARepoCards {\r\n\r\n    private static _instance: TTARepoCards;\r\n    private internalRepo: Map<string, TTACard>;\r\n    private internalTacticRepo: Map<string, TTATacticCard>;    \r\n    private FillRepo() {\r\n        this.internalRepo = new Map<string, TTACard>([\r\n            [\"PFA01\", CARD_PFA01],\r\n            [\"PFA02\", CARD_PFA02],\r\n            [\"PFA03\", CARD_PFA03],\r\n            [\"PFA04\", CARD_PFA04],\r\n            [\"PMI01\", CARD_PMI01],\r\n            [\"PMI02\", CARD_PMI02],\r\n            [\"PMI03\", CARD_PMI03],\r\n            [\"PMI04\", CARD_PMI04],\r\n            [\"UTE01\", CARD_UTE01],\r\n            [\"UTE02\", CARD_UTE02],\r\n            [\"UTE03\", CARD_UTE03],\r\n            [\"ULA01\", CARD_ULA01],\r\n            [\"ULA02\", CARD_ULA02],\r\n            [\"ULA03\", CARD_ULA03],\r\n            [\"ULA04\", CARD_ULA04],\r\n            [\"UAR01\", CARD_UAR01],\r\n            [\"UAR02\", CARD_UAR02],\r\n            [\"UAR03\", CARD_UAR03],\r\n            [\"ULI01\", CARD_ULI01],\r\n            [\"ULI02\", CARD_ULI02],\r\n            [\"ULI03\", CARD_ULI03],\r\n            [\"UTH01\", CARD_UTH01],\r\n            [\"UTH02\", CARD_UTH02],\r\n            [\"UTH03\", CARD_UTH03],\r\n            [\"MIN01\", CARD_MIN01],\r\n            [\"MIN02\", CARD_MIN02],\r\n            [\"MIN03\", CARD_MIN03],\r\n            [\"MIN04\", CARD_MIN04],\r\n            [\"MCA01\", CARD_MCA01],\r\n            [\"MCA02\", CARD_MCA02],\r\n            [\"MCA03\", CARD_MCA03],\r\n            [\"MAR01\", CARD_MAR01],\r\n            [\"MAR02\", CARD_MAR02],\r\n            [\"MAI01\", CARD_MAI01],\r\n            [\"WON01\", CARD_WON01],\r\n            [\"WON02\", CARD_WON02],\r\n            [\"WON03\", CARD_WON03],\r\n            [\"WON04\", CARD_WON04],\r\n            [\"WON05\", CARD_WON05],\r\n            [\"WON06\", CARD_WON06],\r\n            [\"WON07\", CARD_WON07],\r\n            [\"WON08\", CARD_WON08],\r\n            [\"WON09\", CARD_WON09],\r\n            [\"WON10\", CARD_WON10],\r\n            [\"WON11\", CARD_WON11],\r\n            [\"WON12\", CARD_WON12],\r\n            [\"WON13\", CARD_WON13],\r\n            [\"WON14\", CARD_WON14],\r\n            [\"WON15\", CARD_WON15],\r\n            [\"WON16\", CARD_WON16],\r\n            [\"WON17\", CARD_WON17],\r\n            [\"WON18\", CARD_WON18],\r\n            [\"WON19\", CARD_WON19],\r\n            [\"WON20\", CARD_WON20],\r\n            [\"WON21\", CARD_WON21],\r\n            [\"WON22\", CARD_WON22],\r\n            [\"WON23\", CARD_WON23],\r\n            [\"WON24\", CARD_WON24],\r\n            [\"WON25\", CARD_WON25],\r\n            [\"WON26\", CARD_WON26],\r\n            [\"WON27\", CARD_WON27],\r\n            [\"WON28\", CARD_WON28],\r\n            [\"WON29\", CARD_WON29],\r\n            [\"WON30\", CARD_WON30],\r\n            [\"WON31\", CARD_WON31],\r\n            [\"WON32\", CARD_WON32],\r\n            [\"WON33\", CARD_WON33],\r\n            [\"WON34\", CARD_WON34],\r\n            [\"WON35\", CARD_WON35],\r\n            [\"WON99\", CARD_WON99],\r\n            [\"LEA01\", CARD_LEA01],\r\n            [\"LEA02\", CARD_LEA02],\r\n            [\"LEA03\", CARD_LEA03],\r\n            [\"LEA04\", CARD_LEA04],\r\n            [\"LEA05\", CARD_LEA05],\r\n            [\"LEA06\", CARD_LEA06],\r\n            [\"LEA07\", CARD_LEA07],\r\n            [\"LEA08\", CARD_LEA08],\r\n            [\"LEA09\", CARD_LEA09],\r\n            [\"LEA10\", CARD_LEA10],\r\n            [\"LEA11\", CARD_LEA11],\r\n            [\"LEA12\", CARD_LEA12],\r\n            [\"LEA13\", CARD_LEA13],\r\n            [\"LEA14\", CARD_LEA14],\r\n            [\"LEA15\", CARD_LEA15],\r\n            [\"LEA16\", CARD_LEA16],\r\n            [\"LEA17\", CARD_LEA17],\r\n            [\"LEA18\", CARD_LEA18],\r\n            [\"LEA19\", CARD_LEA19],\r\n            [\"LEA20\", CARD_LEA20],\r\n            [\"LEA21\", CARD_LEA21],\r\n            [\"LEA22\", CARD_LEA22],\r\n            [\"LEA23\", CARD_LEA23],\r\n            [\"LEA24\", CARD_LEA24],\r\n            [\"LEA25\", CARD_LEA25],\r\n            [\"LEA26\", CARD_LEA26],\r\n            [\"LEA27\", CARD_LEA27],\r\n            [\"LEA28\", CARD_LEA28],\r\n            [\"LEA29\", CARD_LEA29],\r\n            [\"LEA30\", CARD_LEA30],\r\n            [\"LEA31\", CARD_LEA31],\r\n            [\"LEA32\", CARD_LEA32],\r\n            [\"LEA33\", CARD_LEA33],\r\n            [\"LEA34\", CARD_LEA34],\r\n            [\"LEA35\", CARD_LEA35],\r\n            [\"LEA36\", CARD_LEA36],\r\n            [\"LEA37\", CARD_LEA37],\r\n            [\"LEA38\", CARD_LEA38],\r\n            [\"LEA39\", CARD_LEA39],\r\n            [\"LEA40\", CARD_LEA40],\r\n            [\"LEA41\", CARD_LEA41],\r\n            [\"LEA42\", CARD_LEA42],\r\n            [\"LEA43\", CARD_LEA43],\r\n            [\"LEA44\", CARD_LEA44],\r\n            [\"LEA45\", CARD_LEA45],\r\n            [\"LEA46\", CARD_LEA46],\r\n            [\"LEA47\", CARD_LEA47],\r\n            [\"LEA48\", CARD_LEA48],\r\n            [\"LEA49\", CARD_LEA49],\r\n            [\"GOV01\", CARD_GOV01],\r\n            [\"GOV02\", CARD_GOV02],\r\n            [\"GOV03\", CARD_GOV03],\r\n            [\"GOV04\", CARD_GOV04],\r\n            [\"GOV05\", CARD_GOV05],\r\n            [\"GOV06\", CARD_GOV06],\r\n            [\"GOV07\", CARD_GOV07],\r\n            [\"GOV08\", CARD_GOV08],\r\n            [\"SMI01\", CARD_SMI01],\r\n            [\"SMI02\", CARD_SMI02],\r\n            [\"SMI03\", CARD_SMI03],\r\n            [\"SCI01\", CARD_SCI01],\r\n            [\"SCI02\", CARD_SCI02],\r\n            [\"SCI03\", CARD_SCI03],\r\n            [\"SCL01\", CARD_SCL01],\r\n            [\"SCL02\", CARD_SCL02],\r\n            [\"SCL03\", CARD_SCL03],\r\n            [\"SCO01\", CARD_SCO01],\r\n            [\"SCO02\", CARD_SCO02],\r\n            [\"SCO03\", CARD_SCO03],\r\n            [\"TER01\", CARD_TER01],\r\n            [\"TER02\", CARD_TER02],\r\n            [\"TER03\", CARD_TER03],\r\n            [\"TER04\", CARD_TER04],\r\n            [\"TER05\", CARD_TER05],\r\n            [\"TER06\", CARD_TER06],\r\n            [\"TER07\", CARD_TER07],\r\n            [\"TER08\", CARD_TER08],\r\n            [\"TER09\", CARD_TER09],\r\n            [\"TER10\", CARD_TER10],\r\n            [\"TER11\", CARD_TER11],\r\n            [\"TER12\", CARD_TER12],\r\n            [\"TER13\", CARD_TER13]\r\n        ]);\r\n    }\r\n\r\n    private FillTactics() {\r\n        this.internalTacticRepo = new Map<string, TTATacticCard>([\r\n            [\"TAC01\", CARD_TAC01],\r\n            [\"TAC02\", CARD_TAC02],\r\n            [\"TAC03\", CARD_TAC03],\r\n            [\"TAC04\", CARD_TAC04],\r\n            [\"TAC05\", CARD_TAC05],\r\n            [\"TAC06\", CARD_TAC06],\r\n            [\"TAC07\", CARD_TAC07],\r\n            [\"TAC08\", CARD_TAC08],\r\n            [\"TAC09\", CARD_TAC09],\r\n            [\"TAC10\", CARD_TAC10],\r\n            [\"TAC11\", CARD_TAC11],\r\n            [\"TAC12\", CARD_TAC12],\r\n            [\"TAC13\", CARD_TAC13],\r\n            [\"TAC14\", CARD_TAC14],\r\n            [\"TAC15\", CARD_TAC15],\r\n            [\"TAC16\", CARD_TAC16],\r\n            [\"TAC17\", CARD_TAC17]\r\n        ]);\r\n    }\r\n\r\n    private constructor() {\r\n        this.FillRepo();\r\n        this.FillTactics();\r\n    }\r\n\r\n    public static get Instance(): TTARepoCards {\r\n        return this._instance || (this._instance = new this());\r\n    }\r\n\r\n    public Get(cardName: string) {\r\n        return this.internalRepo.get(cardName);\r\n    }\r\n\r\n    public GetTactic(cardName: string) {\r\n        return this.internalTacticRepo.get(cardName);\r\n    }\r\n\r\n    public GetLeaders() {\r\n        let leaders = Array<TTACard>();\r\n        leaders.push(this.internalRepo.get(\"LEA01\"));\r\n        leaders.push(this.internalRepo.get(\"LEA02\"));\r\n        leaders.push(this.internalRepo.get(\"LEA03\"));\r\n        leaders.push(this.internalRepo.get(\"LEA04\"));\r\n        leaders.push(this.internalRepo.get(\"LEA05\"));\r\n        leaders.push(this.internalRepo.get(\"LEA06\"));\r\n        leaders.push(this.internalRepo.get(\"LEA07\"));\r\n        leaders.push(this.internalRepo.get(\"LEA08\"));\r\n        leaders.push(this.internalRepo.get(\"LEA09\"));\r\n        leaders.push(this.internalRepo.get(\"LEA10\"));\r\n        leaders.push(this.internalRepo.get(\"LEA11\"));\r\n        leaders.push(this.internalRepo.get(\"LEA12\"));\r\n        leaders.push(this.internalRepo.get(\"LEA13\"));\r\n        leaders.push(this.internalRepo.get(\"LEA14\"));\r\n        leaders.push(this.internalRepo.get(\"LEA15\"));\r\n        leaders.push(this.internalRepo.get(\"LEA16\"));\r\n        leaders.push(this.internalRepo.get(\"LEA17\"));\r\n        leaders.push(this.internalRepo.get(\"LEA18\"));\r\n        leaders.push(this.internalRepo.get(\"LEA19\"));\r\n        leaders.push(this.internalRepo.get(\"LEA20\"));\r\n        leaders.push(this.internalRepo.get(\"LEA21\"));\r\n        leaders.push(this.internalRepo.get(\"LEA22\"));\r\n        leaders.push(this.internalRepo.get(\"LEA23\"));\r\n        leaders.push(this.internalRepo.get(\"LEA24\"));\r\n        leaders.push(this.internalRepo.get(\"LEA25\"));\r\n        leaders.push(this.internalRepo.get(\"LEA26\"));\r\n        leaders.push(this.internalRepo.get(\"LEA27\"));\r\n        leaders.push(this.internalRepo.get(\"LEA28\"));\r\n        leaders.push(this.internalRepo.get(\"LEA29\"));\r\n        leaders.push(this.internalRepo.get(\"LEA30\"));\r\n        leaders.push(this.internalRepo.get(\"LEA31\"));\r\n        leaders.push(this.internalRepo.get(\"LEA32\"));\r\n        leaders.push(this.internalRepo.get(\"LEA33\"));\r\n        leaders.push(this.internalRepo.get(\"LEA34\"));\r\n        leaders.push(this.internalRepo.get(\"LEA35\"));\r\n        leaders.push(this.internalRepo.get(\"LEA36\"));\r\n        leaders.push(this.internalRepo.get(\"LEA37\"));\r\n        leaders.push(this.internalRepo.get(\"LEA38\"));\r\n        leaders.push(this.internalRepo.get(\"LEA39\"));\r\n        leaders.push(this.internalRepo.get(\"LEA40\"));\r\n        leaders.push(this.internalRepo.get(\"LEA41\"));\r\n        leaders.push(this.internalRepo.get(\"LEA42\"));\r\n        leaders.push(this.internalRepo.get(\"LEA43\"));\r\n        leaders.push(this.internalRepo.get(\"LEA44\"));\r\n        leaders.push(this.internalRepo.get(\"LEA45\"));\r\n        leaders.push(this.internalRepo.get(\"LEA46\"));\r\n        leaders.push(this.internalRepo.get(\"LEA47\"));\r\n        leaders.push(this.internalRepo.get(\"LEA48\"));\r\n        leaders.push(this.internalRepo.get(\"LEA49\"));\r\n        return leaders;\r\n    }\r\n\r\n    public GetTactics() {\r\n        let tactics = Array<TTATacticCard>();\r\n        tactics.push(this.internalTacticRepo.get(\"TAC01\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC02\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC03\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC04\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC05\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC06\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC07\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC08\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC09\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC10\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC11\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC12\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC13\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC14\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC15\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC16\"));\r\n        tactics.push(this.internalTacticRepo.get(\"TAC17\"));\r\n        return tactics;\r\n    }\r\n\r\n    public GetWonders(age:number) {\r\n        let wonders = Array<TTACard>();\r\n        if (age==0)\r\n        {\r\n            wonders.push(this.internalRepo.get(\"WON99\"));\r\n            wonders.push(this.internalRepo.get(\"WON01\"));\r\n            wonders.push(this.internalRepo.get(\"WON02\"));\r\n            wonders.push(this.internalRepo.get(\"WON03\"));\r\n            wonders.push(this.internalRepo.get(\"WON04\"));\r\n            wonders.push(this.internalRepo.get(\"WON17\"));\r\n            wonders.push(this.internalRepo.get(\"WON18\"));\r\n            wonders.push(this.internalRepo.get(\"WON19\"));\r\n            wonders.push(this.internalRepo.get(\"WON20\"));\r\n        }\r\n        else if (age==1)\r\n        {\r\n            wonders.push(this.internalRepo.get(\"WON05\"));\r\n            wonders.push(this.internalRepo.get(\"WON06\"));\r\n            wonders.push(this.internalRepo.get(\"WON07\"));\r\n            wonders.push(this.internalRepo.get(\"WON08\"));\r\n            wonders.push(this.internalRepo.get(\"WON21\"));\r\n            wonders.push(this.internalRepo.get(\"WON22\"));\r\n            wonders.push(this.internalRepo.get(\"WON23\"));\r\n            wonders.push(this.internalRepo.get(\"WON24\"));\r\n        }\r\n        else if (age==2)\r\n        {\r\n            wonders.push(this.internalRepo.get(\"WON09\"));\r\n            wonders.push(this.internalRepo.get(\"WON10\"));\r\n            wonders.push(this.internalRepo.get(\"WON11\"));\r\n            wonders.push(this.internalRepo.get(\"WON12\"));\r\n            wonders.push(this.internalRepo.get(\"WON25\"));\r\n            wonders.push(this.internalRepo.get(\"WON26\"));\r\n            wonders.push(this.internalRepo.get(\"WON27\"));\r\n            wonders.push(this.internalRepo.get(\"WON28\"));\r\n            wonders.push(this.internalRepo.get(\"WON33\"));\r\n            wonders.push(this.internalRepo.get(\"WON34\"));\r\n            wonders.push(this.internalRepo.get(\"WON35\"));\r\n        }\r\n        else if (age==3)\r\n        {\r\n            wonders.push(this.internalRepo.get(\"WON13\"));\r\n            wonders.push(this.internalRepo.get(\"WON14\"));\r\n            wonders.push(this.internalRepo.get(\"WON15\"));\r\n            wonders.push(this.internalRepo.get(\"WON16\"));\r\n            wonders.push(this.internalRepo.get(\"WON29\"));\r\n            wonders.push(this.internalRepo.get(\"WON30\"));\r\n            wonders.push(this.internalRepo.get(\"WON31\"));\r\n            wonders.push(this.internalRepo.get(\"WON32\"));\r\n        }\r\n        return wonders;\r\n    }\r\n\r\n    public GetTerritories() {\r\n        let territories = Array<TTACard>();\r\n        territories.push(this.internalRepo.get(\"TER01\"));\r\n        territories.push(this.internalRepo.get(\"TER02\"));\r\n        territories.push(this.internalRepo.get(\"TER03\"));\r\n        territories.push(this.internalRepo.get(\"TER04\"));\r\n        territories.push(this.internalRepo.get(\"TER05\"));\r\n        territories.push(this.internalRepo.get(\"TER06\"));\r\n        territories.push(this.internalRepo.get(\"TER07\"));\r\n        territories.push(this.internalRepo.get(\"TER08\"));\r\n        territories.push(this.internalRepo.get(\"TER09\"));\r\n        territories.push(this.internalRepo.get(\"TER10\"));\r\n        territories.push(this.internalRepo.get(\"TER11\"));\r\n        territories.push(this.internalRepo.get(\"TER12\"));\r\n        territories.push(this.internalRepo.get(\"TER13\"));\r\n        return territories;\r\n    }\r\n\r\n    public GetGovernaments() {\r\n        let governaments = Array<TTACard>();\r\n        governaments.push(this.internalRepo.get(\"GOV01\"));\r\n        governaments.push(this.internalRepo.get(\"GOV02\"));\r\n        governaments.push(this.internalRepo.get(\"GOV03\"));\r\n        governaments.push(this.internalRepo.get(\"GOV04\"));\r\n        governaments.push(this.internalRepo.get(\"GOV05\"));\r\n        governaments.push(this.internalRepo.get(\"GOV06\"));\r\n        governaments.push(this.internalRepo.get(\"GOV07\"));\r\n        governaments.push(this.internalRepo.get(\"GOV08\"));\r\n        return governaments;\r\n    }\r\n}\r\n\r\nfunction MakeBoardCard(card: TTACard, values: [key: string])\r\n{\r\n  return {\r\n    code: card.code,\r\n    card: card,\r\n    workers: Number((values[card.code+\"_tk\"])?values[card.code+\"_tk\"]:0)\r\n  }\r\n}\r\n\r\nexport function MakeScene(values: [key: string])\r\n{\r\n  console.log(\"CalculateScene: START\");\r\n\r\n  let s: Scene = {\r\n    Age: 0,\r\n    yellowToken: 20,\r\n    Leader: null,\r\n    Governament: null,\r\n    Wonders: [],\r\n    Infantry: [],\r\n    Cavallery: [],\r\n    Artillery: [],\r\n    AirForce: null,\r\n    Special: [],\r\n    Productions: [],\r\n    Urbans: [],\r\n    Territories: [],\r\n    Tactic: null\r\n  };\r\n\r\n  if (values[\"age\"]!=null)\r\n    s.Age = values[\"age\"];\r\n\r\n  if (values[\"tokens\"]!=null)\r\n    s.yellowToken = parseInt(values[\"tokens\"]);\r\n\r\n  if (values[\"leader\"])\r\n    s.Leader = {\r\n      code: values[\"leader\"],\r\n      workers: 0\r\n    };\r\n\r\n  let codeGov: string = \"GOV01\";\r\n  if (values[\"governament\"])\r\n    codeGov = values[\"governament\"];\r\n  \r\n  s.Governament = {\r\n      code: codeGov,\r\n      workers: 0\r\n  };\r\n  \r\n  \r\n  if (values[\"tactic\"])\r\n    s.Tactic = TTARepoCards.Instance.GetTactic(values[\"tactic\"]);\r\n\r\n  for (let key in values) {\r\n    let value = values[key];\r\n    //console.log(key + \" => \" + value);\r\n    if (value != \"on\")\r\n        continue;\r\n    if (!key.includes(\"_\"))\r\n    {\r\n      let card = TTARepoCards.Instance.Get(key);\r\n      if (card!=null)\r\n      {\r\n        if (card.code.startsWith(\"MIN\"))\r\n          s.Infantry.push(MakeBoardCard(card, values));\r\n        else if (card.code.startsWith(\"MCA\"))\r\n          s.Cavallery.push(MakeBoardCard(card, values));\r\n        else if (card.code.startsWith(\"MAR\"))\r\n          s.Artillery.push(MakeBoardCard(card, values));\r\n        else if (card.code.startsWith(\"MAI\"))\r\n          s.AirForce=(MakeBoardCard(card, values));\r\n        else if (card.code.startsWith(\"WON\"))\r\n          s.Wonders.push(MakeBoardCard(card, values));\r\n        else if (card.code.startsWith(\"P\"))\r\n          s.Productions.push(MakeBoardCard(card, values));\r\n        else if (card.code.startsWith(\"U\"))\r\n          s.Urbans.push(MakeBoardCard(card, values));\r\n        else if (card.code.startsWith(\"S\"))\r\n          s.Special.push({\r\n            code: card.code,\r\n            card: card,\r\n            workers: 1\r\n          });\r\n        else if (card.code.startsWith(\"TER\"))\r\n          s.Territories.push({\r\n            code: card.code,\r\n            card: card,\r\n            workers: 1\r\n          });\r\n      }\r\n    }\r\n  }\r\n  console.log(s);\r\n  console.log(\"IValueToScene: END\");\r\n  return s;\r\n}","import { TTATacticCard, TacticReport, TacticInfoReport } from \"./TTATypes\";\n\nexport class TacticSVG {\n\n    private artWidth: number = 80;\n    private cavWidth: number = 70;\n    private infWidth: number = 55;\n    private airWidth: number = 80;\n    private colorOK = \"#05cb65\";\n    private colorMod = \"#3498db\";\n    private colorNO = \"#000000\";\n\n    constructor () {\n\n    }\n\n    private AddArt(fillColor:string = \"#000000\", offset: number = 0) {\n        return '<path fill=\"'+fillColor+'\" d=\"M69.5,26a3.76,3.76,0,0,1-2.7,1,6,6,0,0,0-3.7,1.4C61.4,29.86,20.3,46,18.2,46c-1.9,0-4.9,3.2-6.2,6.5-1.2,3.1-.6,7.5,1,7.5.6,0,.5.8-.2,1.9-.9,1.5-.8,2.8.5,6.1,2.5,6.4,1.7,7.2-6.4,6.4L0,73.66v12.4l10.8-.3,10.7-.3,2.6-5.4,2.7-5.4,1.5,2.9C32,84.76,39.5,89,48.5,89c13.6,0,22.9-9.3,23-23,0-5.3-.5-7.3-2.8-11.2A26.88,26.88,0,0,0,63,48c-1.7-1.2-3-2.6-3-3.1,0-1.5,6.4-4.9,8.2-4.3,1,.3,2.4-.3,3.5-1.5A5.72,5.72,0,0,1,75.3,37c2.7,0,3.1-2.6,1.2-7.5-1.3-3.6-2.2-4.5-4-4.5C71.2,25,69.8,25.36,69.5,26Z\" transform=\"translate(' + offset + ')\"/>';\n    }\n    private AddCav(fillColor:string = \"#000000\", offset: number = 0) {\n        return '<path fill=\"'+fillColor+'\" d=\"M36.25,5.21c-8.1,3.2-13,7.1-14.7,11.4-.4,1.1-.4,4.7.1,8,1.7,13.9,1.7,13.8-6.6,22-4.1,4-7.5,7.9-7.5,8.7s-1.1,2.9-2.5,4.8c-3.5,4.7-6.5,16-4.3,16,.6,0,.7,1.1.4,2.5-.5,2.1-.3,2.5,1.4,2.5,2.4,0,8.5-4.3,9.4-6.7.4-.9,0-2.6-.9-3.9a10,10,0,0,1-1.5-4c0-1.6.2-1.6,2,.1,1.4,1.3,2,3.1,2,6.2,0,3.7.7,5.3,3.9,9.1a36.65,36.65,0,0,1,4.4,6.4c.4,1.2,1.7,1.8,3.6,1.8,4,0,4.5-1.2,2-4.4-1.6-2.1-1.7-2.6-.5-2.6,3.2,0,2.7-2.3-1.3-6.4l-4.2-4.3,1.9-4.9c1.1-2.7,1.7-5.4,1.5-6.1s2.3-2.6,5.7-4.4,7-4.5,8.2-6.2c1.6-2.2,2.3-2.6,2.9-1.5s.9.9.9-.3c0-2,2.4-3.1,4.7-2.2,1.2.5,1.5.2,1.1-.8s.2-2,1.3-2.7c2.3-1.5,2.3-1.2.4,2.4s-1.9,7-.3,8,6.7-5.4,8-10.4c.7-2.9,1.4-4,2.2-3.3.6.5,2.4.7,3.9.4,4.5-.9,3.2-4.2-2.8-7.2-2.7-1.3-5.8-2.8-6.7-3.2a6.52,6.52,0,0,0-7.2.6c-1.8,1.3-2.2,1.3-4.3-.7a7.31,7.31,0,0,1-2.3-5.5c0-3.8.1-3.8,4.6-1.7,7.7,3.6,8.7-2.1,1.9-10-2.5-2.9-4.5-6-4.5-6.9C42.55,3.31,41.35,3.21,36.25,5.21Z\" transform=\"translate(' + offset + ')\"/>';\n    }\n    private AddInf(fillColor:string = \"#000000\", offset: number = 0) {\n        return '<path fill=\"'+fillColor+'\" d=\"M42.35,1.62c-.3,1-.8,6.1-1.2,11.3-.5,6.5-1.2,10.1-2.3,11.3s-1.3,2-.4,2.9a4.15,4.15,0,0,1,1.2,2.5c0,1.1-.6,1-3-.2-2.9-1.5-3-1.6-2.3-7.5s.5-6-2.1-7c-6.4-2.4-10.6.2-10.6,6.5v3h-8.5c-9.3,0-9.6.2-11.5,6.5-2.7,8.7-1.9,30.7,1.1,32.5.4.3,2.6-.6,4.9-2s4-2.3,4-2.1-2.5,5.7-5.6,12.1-5.4,11.9-5,12.2c1,1,2-.4,7.5-10.7l5.1-9.5-.6,11a109.19,109.19,0,0,1-1.4,13.8c-1.4,4.2-.3,5.7,4.1,5.7s4.3-.1,5.3-9.8c1.6-15,1.7-15.2,4.5-15.8,1.4-.3,3.1-.7,3.8-.9a1.63,1.63,0,0,1,1.8.5c.6,1-1.7,10.8-3.7,15.8-1.6,4.2-.8,4.8,8,5.7,5.3.6,6.7.4,8.1-1s1.4-1.7.1-2.5c-3.8-2.3-3.8-2.4-3-7.5.5-2.8,1.4-12.9,2-22.5,1-15.2,1.4-17.6,3.1-18.8,1.5-1.1,1.9-2.6,1.9-7.7,0-3.5-.5-6.7-1-7-.7-.4-.8-2.9-.3-6.8.9-8,.8-10.4-.8-13.3S43-.78,42.35,1.62Z\" transform=\"translate(' + offset + ')\"/>';\n    }\n    private AddAir(fillColor:string = \"#000000\", offset: number = 0) {\n        return '<path fill=\"'+fillColor+'\" d=\"M57.9,12.86c-2.5,2.8-5.6,6.6-6.9,8.3-1.8,2.5-2.6,3-3.7,2.2-1.8-1.5-3.6.1-7.5,6.6l-3.1,5.2-6.6.7c-3.6.3-11,.6-16.3.6H4.2l-2.1,3.4A12.45,12.45,0,0,0,0,44.56c0,.7,3.5,4.9,7.7,9.1l7.8,7.8H9.3c-5.3,0-6.4.3-7.4,2.1s-.4,2.9,5.7,9c3.8,3.8,7.4,6.9,8.1,6.9s2.4-1.5,3.8-3.4l2.5-3.3,3.4,1.6L28.7,76l-1.9,3.8c-1.1,2.2-1.7,4.4-1.5,5.1s3.7,2.3,7.6,3.5,7.1,2.7,7.1,3.2,1.3.9,2.9.9c4.2,0,4.8-3.6,1.6-10-1.4-2.7-2.4-5-2.2-5s4.6,1.3,9.7,3c11.3,3.5,11.5,3.5,14,1,2-2,2.9-9.4,1.3-10.2-.5-.1-3.4-5.7-6.7-12.4l-5.9-12.1,3.7-5.7c3.8-5.9,4.6-9.6,2.1-9.6-1.7,0-2-1.6-.6-2.4.5-.4,2.2-3.8,3.7-7.6s3.1-7,3.6-7,.8-1.6.8-3.5c0-3.2-.3-3.5-2.7-3.4C63.3,7.66,61.2,9.16,57.9,12.86Z\" transform=\"translate(' + offset + ')\"/>';\n    }\n\n    private GetSVGEnvelop(contentSVG: string, contentWidth: number, height: number = 40) {\n        let w = (height*contentWidth) / 100;\n        let scale_w = height / 100;\n        \n        return '<svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\" ' +\n               'viewBox=\"0 0 ' + w + ' ' + height + '\"><title></title>' +\n               '<g transform=\"scale(' + scale_w + ')\">' + contentSVG + '</g></svg>';\n    }\n\n    public GetAirSVG(height: number = 40) \n    {\n        return this.GetSVGEnvelop(this.AddAir(), this.airWidth, height);\n    }\n\n    public GetImageSVG(card: TTATacticCard, height: number = 40) {\n        let content: string;\n        let contentWidth: number = 0;\n\n        for(let i = 0; i<card.nart;i++)\n        {\n            content += this.AddArt(\"#000000\", contentWidth);\n            contentWidth += this.artWidth;\n        }\n\n        for(let i = 0; i<card.ncav;i++)\n        {\n            content += this.AddCav(\"#000000\", contentWidth);\n            contentWidth += this.cavWidth;\n        }\n\n        for(let i = 0; i<card.ninf;i++)\n        {\n            content += this.AddInf(\"#000000\", contentWidth);\n            contentWidth += this.infWidth;\n        }\n        \n        let svg = this.GetSVGEnvelop(content, contentWidth, height);\n        return svg;\n    }\n\n    public GetReportInfoSVG(card: TTATacticCard, info: TacticInfoReport, height: number = 40) {\n        let content: string;\n        let contentWidth: number = 0;\n\n        if (card == null)\n            return \"\";\n\n        for(let i = 0; i<card.nart;i++)\n        {\n            let color = this.colorNO;\n            if (i<info.Art.length)\n                if (info.Art[i] == 'A')\n                    color = this.colorOK;\n                else\n                    color = this.colorMod;\n            \n            content += this.AddArt(color, contentWidth);\n            contentWidth += this.artWidth;\n        }\n\n        for(let i = 0; i<card.ncav;i++)\n        {\n            let color = this.colorNO;\n            if (i<info.Cav.length)\n                if (info.Cav[i] == 'C')\n                    color = this.colorOK;\n                else\n                    color = this.colorMod;\n            content += this.AddCav(color, contentWidth);\n            contentWidth += this.cavWidth;\n        }\n\n        for(let i = 0; i<card.ninf;i++)\n        {\n            let color = this.colorNO;\n            if (i<info.Inf.length)\n                if (info.Inf[i] == 'I')\n                    color = this.colorOK;\n                else\n                    color = this.colorMod;\n            content += this.AddInf(color, contentWidth);\n            contentWidth += this.infWidth;\n        }\n\n        let svg = this.GetSVGEnvelop(content, contentWidth, height)\n        console.log(svg);\n        return svg;\n    }\n\n    public GetTableReport(report: TacticReport) {\n        \n        return <table>\n            {report.Items.map((item, i) => {      \n                let svg = this.GetReportInfoSVG(report.TacticCard, item);\n\n                let airMod = null;\n                if (item.AirMod)\n                {\n                    let svgAir = this.GetAirSVG();\n                    airMod = <td>\n                        x2 (<img src={`data:image/svg+xml;utf8,${encodeURIComponent(svgAir)}`} height=\"40\" />)\n                    </td>\n                }\n\n                return (<tr>\n                    <td>\n                        <img src={`data:image/svg+xml;utf8,${encodeURIComponent(svg)}`} height=\"40\" />\n                    </td>\n                    <td>\n                        {item.strength}\n                    </td>\n                    {airMod}\n                </tr>); \n            })}\n        </table>;\n    }\n}","import * as React from \"react\";\n\nexport interface IFormContext\n  extends IFormState {\n  /* Function that allows values in the values state to be set */\n  setValues: (values: IValues) => void;\n}\n/*\n * The context which allows state and functions to be shared with Field.\n * Note that we need to pass createContext a default value which is why undefined is unioned in the type\n */\nexport const FormContext = React.createContext<IFormContext|undefined>(undefined);\n\ninterface IFormProps {\n  /* The http path that the form will be posted to */\n  action: string;\n  onSubmitData: (IValues) => void;\n  render: () => React.ReactNode;\n}\n\nexport interface IValues {\n  /* Key value pairs for all the field values with key being the field name */\n  [key: string]: any;\n}\n\nexport interface IErrors {\n  /* The validation error messages for each field (key is the field name */\n  [key: string]: string;\n}\n\nexport interface IFormState {\n  /* The field values */\n  values: IValues;\n\n  /* The field validation error messages */\n  errors: IErrors;\n\n  /* Whether the form has been successfully submitted */\n  submitSuccess?: boolean;\n}\n\n\n\n\n\n\nexport class Form extends React.Component<IFormProps, IFormState> {\n  constructor(props: IFormProps) {\n    super(props);\n\n    const errors: IErrors = {};\n    const values: IValues = {};\n    this.state = {\n      errors,\n      values\n    };\n  }\n\n  private setValues = (values: IValues) => {\n    this.setState({ values: { ...this.state.values, ...values } });\n   };\n\n  /**\n   * Returns whether there are any errors in the errors object that is passed in\n   * @param {IErrors} errors - The field errors\n   */\n  private haveErrors(errors: IErrors) {\n    let haveError: boolean = false;\n    Object.keys(errors).map((key: string) => {\n      if (errors[key].length > 0) {\n        haveError = true;\n      }\n    });\n    return haveError;\n  }\n\n  /**\n   * Handles form submission\n   * @param {React.FormEvent<HTMLFormElement>} e - The form event\n   */\n  private handleSubmit = async (\n    e: React.FormEvent<HTMLFormElement>\n  ): Promise<void> => {\n    if (e)\n      e.preventDefault();\n\n    //console.log(this.state.values);\n    //CalculateScene(this.state.values);\n    this.props.onSubmitData(this.state.values);\n\n    //if (this.validateForm()) {\n    //  const submitSuccess: boolean = await this.submitForm();\n    //  this.setState({ submitSuccess });\n    //}\n  };\n\n  /**\n   * Executes the validation rules for all the fields on the form and sets the error state\n   * @returns {boolean} - Whether the form is valid or not\n   */\n  private validateForm(): boolean {\n    // TODO - validate form\n    return true;\n  }\n\n  /**\n   * Submits the form to the http api\n   * @returns {boolean} - Whether the form submission was successful or not\n   */\n  private async submitForm(): Promise<boolean> {\n    // TODO - submit the form\n    return true;\n  }\n\n  public render() {\n    const { submitSuccess, errors } = this.state;\n    const context: IFormContext = {\n        ...this.state,\n        setValues: this.setValues\n      };\n    return (\n      <FormContext.Provider value={context}>\n      <form onSubmit={this.handleSubmit} noValidate={true}>\n        <div className=\"container\">\n          \n          {this.props.render()}\n\n          {false && (\n          <div className=\"form-group\">\n            <button\n              type=\"submit\"\n              className=\"btn btn-primary\"\n              disabled={this.haveErrors(errors)}\n            >\n              Submit\n            </button>\n          </div>\n          )}\n          \n          {submitSuccess && (\n            <div className=\"alert alert-info\" role=\"alert\">\n              The form was successfully submitted!\n            </div>\n          )}\n          {submitSuccess === false &&\n            !this.haveErrors(errors) && (\n              <div className=\"alert alert-danger\" role=\"alert\">\n                Sorry, an unexpected error has occurred\n              </div>\n            )}\n          {submitSuccess === false &&\n            this.haveErrors(errors) && (\n              <div className=\"alert alert-danger\" role=\"alert\">\n                Sorry, the form is invalid. Please review, adjust and try again\n              </div>\n            )}\n        </div>\n      </form>\n      </FormContext.Provider>\n    );\n  }\n}","import React from \"react\";\r\nimport {TTARepoCards} from \"./TTARepo\"\r\nimport { TTACard, TTASceneValues, TTAStrengthValue, TTATacticCard } from \"./TTATypes\";\r\nimport { TacticSVG } from \"./TTAUITactic\";\r\nimport {\r\n    IErrors,\r\n    IFormContext,\r\n    FormContext,\r\n  } from \"./Forms\";\r\n\r\n\r\ntype CardItemProps =  {\r\n    code: string;\r\n    needToken?: boolean;\r\n}\r\n\r\ntype CardItemState = {\r\n    card: TTACard;\r\n    onBoard: boolean;\r\n}\r\n\r\nexport class CardItem extends React.Component<CardItemProps, CardItemState> {\r\n    state: CardItemState = {\r\n        // optional second annotation for better type inference\r\n        card: TTARepoCards.Instance.Get(this.props.code),\r\n        onBoard: false\r\n    };\r\n\r\n    cardClick = (): void => {\r\n        console.log('card click');\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <FormContext.Consumer>\r\n            {(context: IFormContext) => (\r\n\r\n            <div className=\"crdtkn\">\r\n                <div className=\"crdtkn-header\">\r\n                    \r\n                    <div className=\"form-check form-switch\">\r\n                        <input className=\"form-check-input\" type=\"checkbox\" name={this.state.card.code} onChange={\r\n                (e: React.FormEvent<HTMLInputElement>) => {\r\n                    if (e.currentTarget.checked)\r\n                        context.setValues({ [this.state.card.code]: e.currentTarget.value });\r\n                    else\r\n                        context.setValues({ [this.state.card.code]: 'off' });\r\n                }\r\n              } />\r\n                    </div>\r\n\r\n                    <strong className=\"me-auto\">{this.state.card.name}</strong>\r\n                </div>\r\n                \r\n            </div>\r\n            )}\r\n            </FormContext.Consumer>\r\n        );\r\n    }\r\n}\r\n\r\nexport class CardItemToken extends React.Component<CardItemProps, CardItemState> {\r\n    state: CardItemState = {\r\n        card: TTARepoCards.Instance.Get(this.props.code),\r\n        onBoard: false\r\n    };\r\n\r\n    private tokens: number = 0;\r\n\r\n    private UpdateState(value: number, context: IFormContext) {\r\n        if (value>=0) {\r\n            if (context!=null)\r\n                context.setValues({ \r\n                    [this.state.card.code + \"_tk\"]: value,\r\n                    [this.state.card.code]: (value)?\"on\":\"off\"\r\n                });\r\n            \r\n            this.tokens = value;\r\n            this.setState({ onBoard: (value>0) });\r\n        }\r\n    }\r\n    IncrementItem = (context: IFormContext) => {\r\n        let value = this.tokens + 1;\r\n        this.UpdateState(value, context);\r\n    };\r\n    DecreaseItem = (context: IFormContext) => {\r\n        let value = this.tokens - 1;\r\n        this.UpdateState(value, context);\r\n    };\r\n\r\n    render() {\r\n\r\n        return (\r\n            <FormContext.Consumer>\r\n            {(context: IFormContext) => (\r\n\r\n            <div className=\"crdtkn\">\r\n                <div className={`crdtkn-header ${this.state.onBoard ? \"onboard\" : \"\"}`}>\r\n                    \r\n                    <span className=\"tknval\">{ this.tokens }</span>\r\n\r\n                    <input type=\"hidden\" name={this.state.card.code}  />\r\n                    <input type=\"hidden\" name={this.state.card.code + \"_tk\"}  value={this.tokens} />\r\n\r\n                    <span className=\"me-auto\">{this.state.card.name}</span>\r\n                    \r\n                    <div>\r\n                        <a href=\"#\" className=\"\" id={this.state.card.code + \"_add\"} onClick={() => {this.IncrementItem(context)}}><i className=\"bi bi-file-plus\"></i></a>\r\n                        \r\n                        <a href=\"#\" className=\"\" id={this.state.card.code + \"_rmv\"} onClick={() => {this.DecreaseItem(context)}}><i className=\"bi bi-file-minus\"></i></a>\r\n                    </div>\r\n                    \r\n                </div>\r\n                \r\n            </div>\r\n            )}\r\n            </FormContext.Consumer>\r\n        );\r\n    }\r\n}\r\n\r\ntype FLeadersProps =  {\r\n    //code: string;\r\n}\r\n\r\ntype FLeadersState = {\r\n    //card: TTACard;\r\n    //onBoard: boolean;\r\n    //needToken: boolean;\r\n    //tokens: number;\r\n}\r\n\r\n\r\nexport class FilterLeaders extends React.Component<FLeadersProps, FLeadersState> {\r\n    state: FLeadersState = {};\r\n\r\n    render() {\r\n\r\n        var leaders = TTARepoCards.Instance.GetLeaders();\r\n        var indents = [];\r\n        for (var i = 0; i < leaders.length; i++) {\r\n            var leader = leaders[i];\r\n            //indents.push(<CardItem code={leader.code} />);\r\n            indents.push(<option value={leader.code}>{leader.name}</option>);\r\n        }\r\n\r\n        return (\r\n            <div className=\"crdtkn\">\r\n                <div className=\"crdtkn-header\">\r\n                    <strong className=\"me-auto\">Leader</strong>\r\n                    <FormContext.Consumer>\r\n                    {(context: IFormContext) => (\r\n                        <select name=\"leader\"                        \r\n                            onChange={\r\n                            (e: React.FormEvent<HTMLSelectElement>) =>\r\n                            context.setValues({ [\"leader\"]: e.currentTarget.value })\r\n                            }\r\n                        >\r\n                            <option value=\"\">No one </option>\r\n                        {indents}\r\n                        </select>\r\n                    )}\r\n                    </FormContext.Consumer>\r\n                </div>\r\n            </div>          \r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport class FilterTactics extends React.Component<FLeadersProps, FLeadersState> {\r\n    state: FLeadersState = {};\r\n\r\n    GetSimpleTextTactic(c: TTATacticCard) {\r\n        let result: string = '';\r\n        for(let i=0;i<c.ninf;i++)\r\n            result += 'I';\r\n        for(let i=0;i<c.ncav;i++)\r\n            result += 'C';\r\n        for(let i=0;i<c.nart;i++)\r\n            result += 'A';\r\n        result += \" - \" + c.strength.toString();\r\n        if (c.strengthObs>0)\r\n            result += \"/\" + c.strengthObs.toString();\r\n        return result;\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        var tactics = TTARepoCards.Instance.GetTactics();\r\n        var indents = [];\r\n        for (var i = 0; i < tactics.length; i++) {\r\n            var tactic = tactics[i];\r\n            //indents.push(<CardItem code={leader.code} />);\r\n            indents.push(<option value={tactic.code}>{tactic.name} ({this.GetSimpleTextTactic(tactic)})</option>);\r\n        }\r\n\r\n        return (\r\n            <div className=\"crdtkn\">\r\n                <div className=\"crdtkn-header\">\r\n                    <strong className=\"me-auto\">Tactic</strong>\r\n                    <FormContext.Consumer>\r\n                {(context: IFormContext) => (\r\n                    <select name=\"tactic\"                        \r\n                        onChange={\r\n                        (e: React.FormEvent<HTMLSelectElement>) =>\r\n                        context.setValues({ [\"tactic\"]: e.currentTarget.value })\r\n                        }\r\n                    >\r\n                        <option value=\"\">No one </option>\r\n                    {indents}\r\n                    </select>\r\n                )}\r\n                </FormContext.Consumer>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport class FilterWonder extends React.Component<FLeadersProps, FLeadersState> {\r\n    state: FLeadersState = {};\r\n\r\n    cardClick = (): void => {\r\n        console.log('card click');\r\n    }\r\n\r\n    render() {\r\n\r\n        var wonders = TTARepoCards.Instance.GetWonders(0);\r\n        var wonders0 = [];\r\n        for (var i = 0; i < wonders.length; i++) \r\n            wonders0.push(<option value={wonders[i].code}>{wonders[i].name}</option>);\r\n\r\n        wonders = TTARepoCards.Instance.GetWonders(1);\r\n        var wonders1 = [];\r\n        for (var i = 0; i < wonders.length; i++) \r\n            wonders1.push(<option value={wonders[i].code}>{wonders[i].name}</option>);\r\n        \r\n        wonders = TTARepoCards.Instance.GetWonders(2);\r\n        var wonders2 = [];\r\n        for (var i = 0; i < wonders.length; i++) \r\n            wonders2.push(<option value={wonders[i].code}>{wonders[i].name}</option>);\r\n\r\n        wonders = TTARepoCards.Instance.GetWonders(3);\r\n        var wonders3 = [];\r\n        for (var i = 0; i < wonders.length; i++) \r\n            wonders3.push(<option value={wonders[i].code}>{wonders[i].name}</option>);\r\n\r\n        return (\r\n            <div>\r\n                    <h6>Wonders</h6>\r\n                    <FormContext.Consumer>\r\n                    {(context: IFormContext) => (\r\n\r\n                        \r\n                            <div>\r\n                                <div className=\"crdtkn\">\r\n                                    <div className=\"crdtkn-header\">\r\n                                        <strong className=\"me-auto\">A</strong>\r\n                                        <select name=\"wonder0\"                        \r\n                                            onChange={\r\n                                            (e: React.FormEvent<HTMLSelectElement>) =>\r\n                                            context.setValues({ [\"wonder0\"]: e.currentTarget.value })\r\n                                            }\r\n                                        >\r\n                                            <option value=\"\">No one </option>\r\n                                        {wonders0}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"crdtkn\">\r\n                                    <div className=\"crdtkn-header\">\r\n                                        <strong className=\"me-auto\">I</strong>\r\n                                        <select name=\"wonder1\"\r\n                                            onChange={\r\n                                            (e: React.FormEvent<HTMLSelectElement>) =>\r\n                                            context.setValues({ [\"wonder1\"]: e.currentTarget.value })\r\n                                            }\r\n                                        >\r\n                                            <option value=\"\">No one </option>\r\n                                        {wonders1}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"crdtkn\">\r\n                                    <div className=\"crdtkn-header\">\r\n                                        <strong className=\"me-auto\">II</strong>\r\n                                        <select name=\"wonder2\"\r\n                                            onChange={\r\n                                            (e: React.FormEvent<HTMLSelectElement>) =>\r\n                                            context.setValues({ [\"wonder2\"]: e.currentTarget.value })\r\n                                            }\r\n                                        >\r\n                                            <option value=\"\">No one </option>\r\n                                        {wonders2}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"crdtkn\">\r\n                                    <div className=\"crdtkn-header\">\r\n                                        <strong className=\"me-auto\">III</strong>\r\n                                        <select name=\"wonder3\"\r\n                                            onChange={\r\n                                            (e: React.FormEvent<HTMLSelectElement>) =>\r\n                                            context.setValues({ [\"wonder3\"]: e.currentTarget.value })\r\n                                            }\r\n                                        >\r\n                                            <option value=\"\">No one </option>\r\n                                        {wonders3}\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                    )}\r\n                    </FormContext.Consumer>\r\n            </div>           \r\n        );\r\n    }\r\n}\r\n\r\nexport class FilterAge extends React.Component<FLeadersProps, FLeadersState> {\r\n    state: FLeadersState = {};\r\n\r\n    render() {\r\n\r\n        return (\r\n            \r\n                <FormContext.Consumer>\r\n                    {(context: IFormContext) => (\r\n                        <div>\r\n                            <div className=\"form-check\">\r\n                                <input className=\"form-check-input\" type=\"radio\" name=\"age\" onClick={\r\n                                        (e: React.FormEvent<HTMLInputElement>) =>\r\n                                            context.setValues({ [\"age\"]: 0 })\r\n                                        } />\r\n                                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault1\">\r\n                                    Age A\r\n                                </label>\r\n                            </div>\r\n                            <div className=\"form-check\">\r\n                                <input className=\"form-check-input\" type=\"radio\" name=\"age\" onClick={\r\n                                        (e: React.FormEvent<HTMLInputElement>) =>\r\n                                            context.setValues({ [\"age\"]: 1 })\r\n                                        } />\r\n                                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault2\">\r\n                                    Age I\r\n                                </label>\r\n                            </div>\r\n                            <div className=\"form-check\">\r\n                                <input className=\"form-check-input\" type=\"radio\" name=\"age\" onClick={\r\n                                        (e: React.FormEvent<HTMLInputElement>) =>\r\n                                            context.setValues({ [\"age\"]: 2 })\r\n                                        } />\r\n                                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault2\">\r\n                                    Age II\r\n                                </label>\r\n                            </div>\r\n                            <div className=\"form-check\">\r\n                                <input className=\"form-check-input\" type=\"radio\" name=\"age\" onClick={\r\n                                        (e: React.FormEvent<HTMLInputElement>) =>\r\n                                            context.setValues({ [\"age\"]: 3 })\r\n                                        } />\r\n                                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault2\">\r\n                                    Age III\r\n                                </label>\r\n                            </div>\r\n                            <div className=\"form-check\">\r\n                                <input className=\"form-check-input\" type=\"radio\" name=\"age\" onClick={\r\n                                        (e: React.FormEvent<HTMLInputElement>) =>\r\n                                            context.setValues({ [\"age\"]: 4 })\r\n                                        } />\r\n                                <label className=\"form-check-label\" htmlFor=\"flexRadioDefault2\">\r\n                                    Age IV\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                )}\r\n                </FormContext.Consumer>\r\n                     \r\n        );\r\n    }\r\n}\r\n\r\nexport class FilterGovernament extends React.Component<FLeadersProps, FLeadersState> {\r\n    state: FLeadersState = {};\r\n\r\n    render() {\r\n\r\n        var governaments = TTARepoCards.Instance.GetGovernaments();\r\n        var indents = [];\r\n        for (var i = 0; i < governaments.length; i++) {\r\n            var gov = governaments[i];\r\n            //indents.push(<CardItem code={leader.code} />);\r\n            indents.push(<option value={gov.code}>{gov.name}</option>);\r\n        }\r\n\r\n        return (\r\n            <div className=\"crdtkn\">\r\n                <div className=\"crdtkn-header\">\r\n                    <strong className=\"me-auto\">Governament</strong>\r\n                    <FormContext.Consumer>\r\n                    {(context: IFormContext) => (\r\n                        <select name=\"leader\"                        \r\n                            onChange={\r\n                            (e: React.FormEvent<HTMLSelectElement>) =>\r\n                            context.setValues({ [\"governament\"]: e.currentTarget.value })\r\n                            }\r\n                        >\r\n                        {indents}\r\n                        </select>\r\n                    )}\r\n                    </FormContext.Consumer>\r\n                </div>\r\n            </div>    \r\n        );\r\n    }\r\n}\r\n\r\n\r\nfunction GetYellowTokenBar(n: number, h: number)\r\n{\r\n    let svg : string = \"\";\r\n    svg +=  '<svg viewBox=\"0 0 500 90\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:bx=\"https://boxy-svg.com\"><defs>';\r\n    svg +=  '<filter id=\"drop-shadow-filter-0\" x=\"-500%\" y=\"-500%\" width=\"1000%\" height=\"1000%\" bx:preset=\"drop-shadow 1 0 0 4 0.5 rgba(0,0,0,0.3)\">';\r\n    svg +=  '<feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"4\"></feGaussianBlur><feOffset dx=\"0\" dy=\"0\"></feOffset><feComponentTransfer result=\"offsetblur\">';\r\n    svg +=  '<feFuncA id=\"spread-ctrl\" type=\"linear\" slope=\"1\"></feFuncA></feComponentTransfer><feFlood flood-color=\"rgba(0,0,0,0.3)\"></feFlood>';\r\n    svg +=  '<feComposite in2=\"offsetblur\" operator=\"in\"></feComposite><feMerge><feMergeNode></feMergeNode><feMergeNode in=\"SourceGraphic\"></feMergeNode></feMerge></filter>';\r\n    svg +=  '<linearGradient gradientUnits=\"userSpaceOnUse\" x1=\"10\" y1=\"0\" x2=\"10\" y2=\"20\" id=\"gradient-0\" gradientTransform=\"matrix(0, -0.974845, 0.974845, 0, -0.047753, 19.917264)\"><stop offset=\"0\" style=\"stop-color: rgb(255, 242, 0);\"></stop><stop offset=\"1\" style=\"stop-color: rgb(255, 204, 0);\"></stop></linearGradient>';\r\n    svg +=  '</defs><g><rect width=\"58\" height=\"58\" style=\"fill: rgb(216, 216, 216);\"></rect>';\r\n    if (n>0)\r\n        svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"16\" cy=\"16\" r=\"10\"></circle>';\r\n    if (n>1)\r\n        svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"16\" cy=\"42\" r=\"10\"></circle>';\r\n    if (n>2)\r\n        svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"42\" cy=\"16\" r=\"10\"></circle>';\r\n    if (n>3)\r\n        svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"42\" cy=\"42\" r=\"10\"></circle>';\r\n  \r\n    svg +=  '</g><g transform=\"matrix(1, 0, 0, 1, 62, 0)\"><rect width=\"58\" height=\"58\" style=\"fill: rgb(216, 216, 216);\"></rect>';\r\n    if (n>4)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"16\" cy=\"16\" r=\"10\"></circle>';\r\n    if (n>5)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"16\" cy=\"42\" r=\"10\"></circle>';\r\n    if (n>6)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"42\" cy=\"16\" r=\"10\"></circle>';\r\n    if (n>7)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"42\" cy=\"42\" r=\"10\"></circle>';\r\n    \r\n    svg +=  '</g><g transform=\"matrix(1, 0, 0, 1, 124, 0)\"><rect width=\"58\" height=\"58\" style=\"fill: rgb(216, 216, 216);\"></rect>';\r\n    if (n>8)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"16\" cy=\"16\" r=\"10\"></circle>';\r\n    if (n>9)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"16\" cy=\"42\" r=\"10\"></circle>';\r\n    if (n>10)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"42\" cy=\"16\" r=\"10\"></circle>';\r\n    if (n>11)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"42\" cy=\"42\" r=\"10\"></circle>';\r\n    \r\n    svg +=  '</g><g transform=\"matrix(1, 0, 0, 1, 186, 0)\"><rect width=\"58\" height=\"58\" style=\"fill: rgb(216, 216, 216);\"></rect>';\r\n    if (n>12)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"16\" cy=\"16\" r=\"10\"></circle>';\r\n    if (n>13)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"16\" cy=\"42\" r=\"10\"></circle>';\r\n    if (n>14)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"42\" cy=\"16\" r=\"10\"></circle>';\r\n    if (n>15)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"42\" cy=\"42\" r=\"10\"></circle>';\r\n    \r\n    svg +=  '</g><g transform=\"matrix(1, 0, 0, 1,248, 0)\"><rect width=\"58\" height=\"58\" style=\"fill: rgb(216, 216, 216);\"></rect>';\r\n    if (n>16)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"16\" cy=\"16\" r=\"10\"></circle>';\r\n    if (n>17)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"16\" cy=\"42\" r=\"10\"></circle>';\r\n    if (n>18)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"42\" cy=\"16\" r=\"10\"></circle>';\r\n    if (n>19)\r\n      svg +=  '<circle style=\"fill: rgb(255, 247, 0); filter: url(#drop-shadow-filter-0);\" cx=\"42\" cy=\"42\" r=\"10\"></circle>';\r\n    \r\n    svg +=  '</g>';\r\n    if (h>7) svg += '<g transform=\"matrix(1, 0, 0, 1, 6, 64)\"><rect x=\"0\" y=\"0\" width=\"20\" height=\"20\" style=\"fill: url(#gradient-0); stroke: rgb(0, 0, 0);\" rx=\"3\" ry=\"3\"></rect><ellipse style=\"\" cx=\"6.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><ellipse style=\"stroke-linecap: round;\" cx=\"13.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><path d=\"M 4 13 C 6 17, 14 17, 16 13\" style=\"stroke: rgb(0, 0, 0); fill: transparent; stroke-linecap: round;\"></path></g>';\r\n    if (h>6) svg += '<g transform=\"matrix(1, 0, 0, 1, 32, 64)\"><rect x=\"0\" y=\"0\" width=\"20\" height=\"20\" style=\"stroke: rgb(0, 0, 0); fill: url(#gradient-0);\" rx=\"3\" ry=\"3\"></rect><ellipse style=\"\" cx=\"6.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><ellipse style=\"stroke-linecap: round;\" cx=\"13.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><path d=\"M 4 13 C 6 17, 14 17, 16 13\" style=\"stroke: rgb(0, 0, 0); fill: transparent; stroke-linecap: round;\"></path></g>';\r\n    if (h>5) svg += '<g transform=\"matrix(1, 0, 0, 1, 68, 64)\"><rect x=\"0\" y=\"0\" width=\"20\" height=\"20\" style=\"stroke: rgb(0, 0, 0); fill: url(#gradient-0);\" rx=\"3\" ry=\"3\"></rect><ellipse style=\"\" cx=\"6.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><ellipse style=\"stroke-linecap: round;\" cx=\"13.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><path d=\"M 4 13 C 6 17, 14 17, 16 13\" style=\"stroke: rgb(0, 0, 0); fill: transparent; stroke-linecap: round;\"></path></g>';\r\n    if (h>4) svg += '<g transform=\"matrix(1, 0, 0, 1, 94, 64)\"><rect x=\"0\" y=\"0\" width=\"20\" height=\"20\" style=\"stroke: rgb(0, 0, 0); fill: url(#gradient-0);\" rx=\"3\" ry=\"3\"></rect><ellipse style=\"\" cx=\"6.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><ellipse style=\"stroke-linecap: round;\" cx=\"13.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><path d=\"M 4 13 C 6 17, 14 17, 16 13\" style=\"stroke: rgb(0, 0, 0); fill: transparent; stroke-linecap: round;\"></path></g>';\r\n    if (h>3) svg += '<g transform=\"matrix(1, 0, 0, 1, 130, 64)\"><rect x=\"0\" y=\"0\" width=\"20\" height=\"20\" style=\"stroke: rgb(0, 0, 0); fill: url(#gradient-0);\" rx=\"3\" ry=\"3\"></rect><ellipse style=\"\" cx=\"6.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><ellipse style=\"stroke-linecap: round;\" cx=\"13.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><path d=\"M 4 13 C 6 17, 14 17, 16 13\" style=\"stroke: rgb(0, 0, 0); fill: transparent; stroke-linecap: round;\"></path></g>';\r\n    if (h>2) svg += '<g transform=\"matrix(1, 0, 0, 1, 156, 64)\"><rect x=\"0\" y=\"0\" width=\"20\" height=\"20\" style=\"stroke: rgb(0, 0, 0); fill: url(#gradient-0);\" rx=\"3\" ry=\"3\"></rect><ellipse style=\"\" cx=\"6.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><ellipse style=\"stroke-linecap: round;\" cx=\"13.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><path d=\"M 4 13 C 6 17, 14 17, 16 13\" style=\"stroke: rgb(0, 0, 0); fill: transparent; stroke-linecap: round;\"></path></g>';\r\n    if (h>1) svg += '<g transform=\"matrix(1, 0, 0, 1, 205, 64)\"><rect x=\"0\" y=\"0\" width=\"20\" height=\"20\" style=\"stroke: rgb(0, 0, 0); fill: url(#gradient-0);\" rx=\"3\" ry=\"3\"></rect><ellipse style=\"\" cx=\"6.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><ellipse style=\"stroke-linecap: round;\" cx=\"13.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><path d=\"M 4 13 C 6 17, 14 17, 16 13\" style=\"stroke: rgb(0, 0, 0); fill: transparent; stroke-linecap: round;\"></path></g>';\r\n    if (h>0) svg += '<g transform=\"matrix(1, 0, 0, 1, 269, 64)\"><rect x=\"0\" y=\"0\" width=\"20\" height=\"20\" style=\"stroke: rgb(0, 0, 0); fill: url(#gradient-0);\" rx=\"3\" ry=\"3\"></rect><ellipse style=\"\" cx=\"6.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><ellipse style=\"stroke-linecap: round;\" cx=\"13.5\" cy=\"7\" rx=\"1.22\" ry=\"2.565\"></ellipse><path d=\"M 4 13 C 6 17, 14 17, 16 13\" style=\"stroke: rgb(0, 0, 0); fill: transparent; stroke-linecap: round;\"></path></g>';\r\n    svg +=  '</svg>';\r\n    //return svg;\r\n    \r\n    return (\r\n        <div>\r\n        <img src={`data:image/svg+xml;utf8,${encodeURIComponent(svg)}`} />\r\n        </div>\r\n    );\r\n    \r\n}\r\n\r\nexport class FilterYellowTokens extends React.Component<FLeadersProps, FLeadersState> {\r\n    state: FLeadersState = {};\r\n\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"crdtkn\">\r\n                <div className=\"crdtkn-header\">\r\n                    <strong className=\"me-auto\">YellowTokens</strong>\r\n                    <FormContext.Consumer>\r\n                    {(context: IFormContext) => (\r\n                        <select name=\"tokens\"                        \r\n                        onChange={\r\n                        (e: React.FormEvent<HTMLSelectElement>) =>\r\n                        context.setValues({ [\"tokens\"]: e.currentTarget.value })\r\n                        }\r\n                    >\r\n                        <option>20</option>\r\n                        <option>19</option>\r\n                        <option>18</option>\r\n                        <option>17</option>\r\n                        <option>16</option>\r\n                        <option>15</option>\r\n                        <option>14</option>\r\n                        <option>13</option>\r\n                        <option>12</option>\r\n                        <option>11</option>\r\n                        <option>10</option>\r\n                        <option>9</option>\r\n                        <option>8</option>\r\n                        <option>7</option>\r\n                        <option>6</option>\r\n                        <option>5</option>\r\n                        <option>4</option>\r\n                        <option>3</option>\r\n                        <option>2</option>\r\n                        <option>1</option>\r\n                        <option>0</option>\r\n                    </select>\r\n                    )}\r\n                    </FormContext.Consumer>\r\n                </div>\r\n            </div>    \r\n        );\r\n    }\r\n}\r\n\r\ntype TTASceneValuesProps =  {\r\n}\r\n\r\ntype TTASceneValuesState = {\r\n    values: TTASceneValues;\r\n}\r\n\r\nexport class SceneResult extends React.Component<TTASceneValuesProps, TTASceneValuesState> {\r\n    state: TTASceneValuesState = {\r\n        values: new TTASceneValues()\r\n    };\r\n\r\n    render() {\r\n\r\n        let defClass: string = \"list-group-item list-group-item-action flex-column align-items-start\";\r\n\r\n        if (!this.state.values.valid)\r\n            defClass = defClass + \" list-group-item-danger\";\r\n\r\n        let imgSvg = GetYellowTokenBar(this.state.values.yellowToken,this.state.values.happy.Value());\r\n        return (\r\n            <div className=\"list-group\">\r\n                <a href=\"#\" className={(this.state.values.strength.Logs().length>0) ? defClass : defClass+\" valNotChanged\"}>\r\n                    <div className=\"d-flex w-100 justify-content-between\">\r\n                        <h5 className=\"mb-1\">Strength</h5>\r\n                        <strong>{this.state.values.strength.Value()}</strong>\r\n                    </div>\r\n                    <small className=\"text-muted\">\r\n                        {this.state.values.strength.Logs().map((item, i) => {      \r\n                            return (<span>{item.msg}<br /></span>) \r\n                        })}\r\n                    </small>\r\n                </a>\r\n                <a href=\"#\" className={(this.state.values.culture.Logs().length>0) ? defClass : defClass+\" valNotChanged\"}>\r\n                    <div className=\"d-flex w-100 justify-content-between\">\r\n                        <h5 className=\"mb-1\">Culture</h5>\r\n                        <strong>{this.state.values.culture.Value()}</strong>\r\n                    </div>\r\n                    <small className=\"text-muted\">\r\n                        {this.state.values.culture.Logs().map((item, i) => {      \r\n                            return (<span>{item.msg}<br /></span>) \r\n                        })}\r\n                    </small>\r\n                </a>\r\n                <a href=\"#\" className={(this.state.values.food.Logs().length>0) ? defClass : defClass+\" valNotChanged\"}>\r\n                    <div className=\"d-flex w-100 justify-content-between\">\r\n                        <h5 className=\"mb-1\">Food</h5>\r\n                        <strong>{this.state.values.food.Value()}</strong>\r\n                    </div>\r\n                    <small className=\"text-muted\">\r\n                        {this.state.values.food.Logs().map((item, i) => {      \r\n                            return (<span>{item.msg}<br /></span>) \r\n                        })}\r\n                    </small>\r\n                </a>\r\n                <a href=\"#\" className={(this.state.values.resource.Logs().length>0) ? defClass : defClass+\" valNotChanged\"}>\r\n                    <div className=\"d-flex w-100 justify-content-between\">\r\n                        <h5 className=\"mb-1\">Resource</h5>\r\n                        <strong>{this.state.values.resource.Value()}</strong>\r\n                    </div>\r\n                    <small className=\"text-muted\">\r\n                        {this.state.values.resource.Logs().map((item, i) => {      \r\n                            return (<span>{item.msg}<br /></span>) \r\n                        })}\r\n                    </small>\r\n                </a>\r\n                <a href=\"#\" className={(this.state.values.science.Logs().length>0) ? defClass : defClass+\" valNotChanged\"}>\r\n                    <div className=\"d-flex w-100 justify-content-between\">\r\n                        <h5 className=\"mb-1\">Science</h5>\r\n                        <strong>{this.state.values.science.Value()}</strong>\r\n                    </div>\r\n                    <small className=\"text-muted\">\r\n                        {this.state.values.science.Logs().map((item, i) => {      \r\n                            return (<span>{item.msg}<br /></span>) \r\n                        })}\r\n                    </small>\r\n                </a>\r\n                <a href=\"#\" className={(this.state.values.happy.Logs().length>0) ? defClass : defClass+\" valNotChanged\"}>\r\n                    <div className=\"d-flex w-100 justify-content-between\">\r\n                        <h5 className=\"mb-1\">Happy</h5>\r\n                        <strong>{this.state.values.happy.Value()}</strong>\r\n                    </div>\r\n                    <small className=\"text-muted\">\r\n                        {this.state.values.happy.Logs().map((item, i) => {      \r\n                            return (<span>{item.msg}<br /></span>) \r\n                        })}\r\n                    </small>\r\n                </a>\r\n                <a href=\"#\" className={(this.state.values.ca.Logs().length>0) ? defClass : defClass+\" valNotChanged\"}>\r\n                    <div className=\"d-flex w-100 justify-content-between\">\r\n                        <h5 className=\"mb-1\">Civ action</h5>\r\n                        <strong>{this.state.values.ca.Value()}</strong>\r\n                    </div>\r\n                    <small className=\"text-muted\">\r\n                        {this.state.values.ca.Logs().map((item, i) => {      \r\n                            return (<span>{item.msg}<br /></span>) \r\n                        })}\r\n                    </small>\r\n                </a>\r\n                <a href=\"#\" className={(this.state.values.ma.Logs().length>0) ? defClass : defClass+\" valNotChanged\"}>\r\n                    <div className=\"d-flex w-100 justify-content-between\">\r\n                        <h5 className=\"mb-1\">Mil actions</h5>\r\n                        <strong>{this.state.values.ma.Value()}</strong>\r\n                    </div>\r\n                    <small className=\"text-muted\">\r\n                        {this.state.values.ma.Logs().map((item, i) => {      \r\n                            return (<span>{item.msg}<br /></span>) \r\n                        })}\r\n                    </small>\r\n                </a>\r\n                {imgSvg}   \r\n            </div> \r\n        );\r\n    }\r\n};\r\n\r\ntype TTAStrengthValuesProps =  {\r\n}\r\n\r\ntype TTAStrengthValuesState = {\r\n    values: TTAStrengthValue;\r\n}\r\n\r\nexport class TacticResult extends React.Component<TTASceneValuesProps, TTASceneValuesState> {\r\n    state: TTASceneValuesState = {\r\n        values: new TTASceneValues()\r\n    };\r\n\r\n\r\n    Title() {\r\n        if (this.state.values.strength.tacticReport.TacticCard != null)\r\n            return (<h6>{this.state.values.strength.tacticReport.TacticCard.name}</h6>);\r\n        else\r\n            return (<h6></h6>);\r\n    };\r\n\r\n    TacticImage() {\r\n        if (this.state.values.strength.tacticReport.TacticCard != null)\r\n        {\r\n            let tacticSVG = new TacticSVG();\r\n            let svg = tacticSVG.GetImageSVG(this.state.values.strength.tacticReport.TacticCard, 40);\r\n            return (<div>\r\n                        <img src={`data:image/svg+xml;utf8,${encodeURIComponent(svg)}`} height=\"40\" />\r\n                    </div>);\r\n        }\r\n        else\r\n            return (<div></div>);\r\n    }\r\n\r\n    Report() {\r\n        \r\n        let tacticSVG = new TacticSVG();\r\n        return tacticSVG.GetTableReport(this.state.values.strength.tacticReport);\r\n        \r\n    }\r\n\r\n    render() {\r\n        return(\r\n            <div>\r\n                {this.Title()}\r\n                {this.Report()}\r\n            </div>\r\n        );\r\n    }\r\n};\r\n","import { BoardCard, Scene, SceneValuesModifier, TacticInfoReport, TacticReport, TTAStrengthValue, TTASceneValues, TTACard } from \"./TTATypes\";\nimport { TTARepoCards, GetBestFromArray } from \"./TTARepo\";\n\nexport enum CardType {\n    Leader,\n    Wonder,\n    Military,\n    ProductionBuilding,\n    UrbanBuilding,\n    Governament,\n    Special,\n    Tactic\n}\n\n\nfunction FillCard(c: BoardCard)\n{\n    if (c!=null)\n        if (c.card==null)\n            c.card = TTARepoCards.Instance.Get(c.code);\n}\n\nfunction FillArray(a: Array<BoardCard>)\n{\n    if (a!=null)\n        a.forEach(c => {\n            if (c.card==null)\n                c.card = TTARepoCards.Instance.Get(c.code)\n        });\n}\n\nfunction OrderByAge(a: Array<BoardCard>)\n{\n    a.sort(function(a,b){\n        return a.card.age - b.card.age;\n    });\n}\n\nfunction FillCardsInScene(s: Scene)\n{\n    FillCard(s.Leader);\n    FillCard(s.Governament);\n    FillCard(s.AirForce);\n    FillCard(s.Leader);\n    FillCard(s.Governament);\n    FillArray(s.Wonders);\n    FillArray(s.Infantry);\n    FillArray(s.Cavallery);\n    FillArray(s.Artillery);\n    FillCard(s.AirForce);\n    FillArray(s.Special);\n    FillArray(s.Productions);\n    FillArray(s.Urbans);\n\n    OrderByAge(s.Wonders);\n    OrderByAge(s.Infantry);\n    OrderByAge(s.Cavallery);\n    OrderByAge(s.Artillery);\n    OrderByAge(s.Special);\n    OrderByAge(s.Productions);\n    OrderByAge(s.Urbans);\n}\n\ninterface Token {\n        assignedCard: BoardCard;\n        obsolete: boolean;\n    }\n\nexport function StrenghtCalculation(s: Scene)\n{\n    let resultStrength = new TTAStrengthValue();\n\n    let countTactics: number = 0;\n    let countTacticsObs: number = 0;\n\n    let strengthFromTactic: number = 0;\n\n    let infArray: Array<Token> = [];\n    let cavArray: Array<Token> = [];\n    let artArray: Array<Token> = [];\n    let airArray: Array<Token> = [];\n\n    FillCardsInScene(s);\n\n    if (s.Tactic!=null)\n    {\n        resultStrength.tacticReport.TacticCard = s.Tactic;\n\n        let ageTactic: number = s.Tactic.age;\n        s.Infantry.forEach(c => {\n            for (let index = 0; index < c.workers; index++) {\n                infArray.push({\n                    assignedCard: c,\n                obsolete : (Math.abs(c.card.age-ageTactic)>1)\n                });\n            }\n        });\n\n        s.Cavallery.forEach(c => {\n            for (let index = 0; index < c.workers; index++) {\n                cavArray.push({\n                    assignedCard: c,\n                    obsolete : (Math.abs(c.card.age-ageTactic)>1)\n                });\n            }\n        });\n\n        s.Artillery.forEach(c => {\n            for (let index = 0; index < c.workers; index++) {\n                artArray.push({\n                    assignedCard: c,\n                    obsolete : (Math.abs(c.card.age-ageTactic)>1)\n                });\n            }\n        });\n\n        if (s.AirForce != null)\n        {\n            for (let index = 0; index < s.AirForce.workers; index++) {\n                airArray.push({\n                    assignedCard: s.AirForce,\n                    obsolete: false\n                });\n            }\n        }\n\n        let genghisMod: boolean = false;\n        let dietrichMod: boolean = false;\n        if (s.Leader != null)\n        {\n            if (s.Leader.code==\"LEA33\") // Zizka\n            {\n                s.Productions.forEach(c => {\n                    if (c.card.subtype==\"Farm\")\n                        for (let index = 0; index < c.workers; index++) {\n                            infArray.push({\n                                assignedCard: c,\n                                // Each farm count as age \"A\" infantry -> A = 0\n                                obsolete : (Math.abs(0-ageTactic)>1)\n                            });\n                        }\n                });\n            }\n            else if (s.Leader.code==\"LEA10\") // Genghis\n            {\n                genghisMod = true;\n            }\n            else if (s.Leader.code==\"LEA44\") // Dietrich\n            {\n                dietrichMod = true;\n            }\n        }\n\n    \n        let findTactic: boolean = false;\n        let tacticStrength: number = s.Tactic.strength;\n        let tacticStrengthObs: number = s.Tactic.strengthObs;\n\n        if (s.Tactic.code == \"TAC12\") //Hussars\n        {\n            let maxAge: number = 0;\n            s.Cavallery.forEach(c=>{\n                if (c.workers>0)\n                    maxAge = Math.max(maxAge, c.card.age);\n            });\n            tacticStrength += maxAge;\n        }\n\n        do {\n\n            let nInf: number = 0;\n            let nCav: number = 0;\n            let nArt: number = 0;\n            let isObsolete: boolean = false;\n\n            let tInfo = new TacticInfoReport();\n\n            while ((nCav!=s.Tactic.ncav) && (cavArray.length>0))\n            {\n                if (cavArray.pop().obsolete)\n                    isObsolete = true;\n                nCav++;\n\n                tInfo.Cav.push('C');\n            }\n\n            if ((nCav!=s.Tactic.ncav) && (genghisMod))\n            {\n                if ((s.Tactic.ncav-nCav-infArray.length) <= 0 )\n                    while ((nCav!=s.Tactic.ncav) && (infArray.length>0))\n                    {\n                        if (infArray.pop().obsolete)\n                            isObsolete = true;\n                        nCav++;\n\n                        tInfo.Cav.push('I');\n                    }    \n            }\n\n            while ((nInf!=s.Tactic.ninf) && (infArray.length>0))\n            {\n                if (infArray.pop().obsolete)\n                    isObsolete = true;\n                nInf++;\n\n                tInfo.Inf.push('I');\n            }\n            \n            while ((nArt!=s.Tactic.nart) && (artArray.length>0))\n            {\n                if (artArray.pop().obsolete)\n                    isObsolete = true;\n                nArt++;\n\n                tInfo.Art.push('A');\n            }\n            \n\n            if (dietrichMod)\n            {\n                if ((nArt>0)&&(nArt<s.Tactic.nart))\n                {\n                    nArt++;\n                    tInfo.Art.push('Dietrich');\n                }\n                else if ((nCav>0)&&(nCav<s.Tactic.ncav))\n                {\n                    nCav++;\n                    tInfo.Cav.push('Dietrich');\n                }\n                else if ((nInf>0)&&(nInf<s.Tactic.ninf))\n                {\n                    nInf++;\n                    tInfo.Inf.push('Dietrich');\n                }\n            }\n\n            findTactic = ((nInf == s.Tactic.ninf) && (nCav == s.Tactic.ncav) && (nArt == s.Tactic.nart))\n\n            if (findTactic)\n            {\n                if (isObsolete)\n                {\n                    countTacticsObs++;\n                    tInfo.strength = s.Tactic.strengthObs;\n                }\n                else\n                {\n                    countTactics++;\n                    tInfo.strength = s.Tactic.strength;\n                }\n            }\n\n            if (!tInfo.IsEmpty())\n                resultStrength.tacticReport.Items.push(tInfo);\n\n        } while (findTactic);\n\n        if (s.Tactic.strengthObs>0)\n            strengthFromTactic = (countTactics * tacticStrength) + (countTacticsObs * tacticStrengthObs);\n        else\n            strengthFromTactic = ((countTactics+countTacticsObs) * tacticStrength);    \n\n        if (strengthFromTactic>0)\n        {\n            resultStrength.AddValue(strengthFromTactic, \"Tactics (Obs: \" + countTacticsObs + \" - Mod: \" + countTactics + \")\");\n\n            let strengthFromAirMod: number = 0;\n            if (s.AirForce != null)\n            {\n                let airToken: number = s.AirForce.workers;\n                let tokenUsed = Math.min(airToken, countTactics);\n                strengthFromAirMod += tokenUsed * tacticStrength;\n\n                airToken -= tokenUsed;\n                if (airToken>0)\n                    strengthFromAirMod += Math.min(s.AirForce.workers, countTacticsObs) * tacticStrengthObs;\n\n                if (strengthFromAirMod>0)\n                    resultStrength.AddValue(strengthFromAirMod, \"Air force ability\");\n\n                for(let i =0;i<Math.min(s.AirForce.workers, resultStrength.tacticReport.Items.length);i++)\n                    resultStrength.tacticReport.Items[i].AirMod = true;\n            }\n        }\n\n        console.log(resultStrength.tacticReport);\n    }\n\n    return resultStrength;\n}\n\nfunction ElabCard(s: Scene, c: BoardCard, r: TTASceneValues, evalToken: Boolean = true)\n{\n    if (c!=null)\n        if (c.card!=null)\n        {\n            let nTk = 1\n            if (evalToken)\n                nTk = c.workers;\n\n            if ((c.card.happy * nTk)>0)\n                r.happy.AddValue(c.card.happy*nTk, c.card.name);\n            if ((c.card.food * nTk)>0)\n                r.food.AddValue(c.card.food*nTk, c.card.name);\n            if ((c.card.resource * nTk)>0)\n                r.resource.AddValue(c.card.resource * nTk, c.card.name);\n            if ((c.card.science * nTk)>0)\n                r.science.AddValue(c.card.science * nTk, c.card.name);\n            if ((c.card.culture * nTk)>0)\n                r.culture.AddValue(c.card.culture * nTk, c.card.name);\n            if ((c.card.strength * nTk)>0)\n                r.strength.AddValue(c.card.strength * nTk, c.card.name);\n            if ((c.card.ca * nTk)>0)\n                r.ca.AddValue(c.card.ca * nTk, c.card.name);\n            if ((c.card.ma * nTk)>0)\n                r.ma.AddValue(c.card.ma * nTk, c.card.name);\n\n            if (c.card.getSceneValuesModifier)\n            {\n                let sv: SceneValuesModifier = c.card.getSceneValuesModifier(s, r);\n                if (sv.culture!=0)\n                    r.culture.AddValue(sv.culture, c.card.name + \" (Mod)\");\n                if (sv.food!=0)\n                    r.food.AddValue(sv.food, c.card.name + \" (Mod)\");\n                if (sv.resource!=0)\n                    r.resource.AddValue(sv.resource, c.card.name + \" (Mod)\");\n                if (sv.science!=0)\n                    r.science.AddValue(sv.science, c.card.name + \" (Mod)\");\n                if (sv.happy!=0)\n                    r.happy.AddValue(sv.happy, c.card.name + \" (Mod)\");\n                if (sv.strength!=0)\n                    r.strength.AddValue(sv.strength, c.card.name + \" (Mod)\");\n            }\n        }\n}\n\nfunction ElabCards(s:Scene, r: TTASceneValues) {\n\n    s.Infantry.forEach(item => {\n        ElabCard(s, item,r);\n    });\n    s.Cavallery.forEach(item => {\n        ElabCard(s, item,r);\n    });\n    s.Artillery.forEach(item => {\n        ElabCard(s, item,r);\n    });\n    ElabCard(s, s.AirForce, r);\n    s.Productions.forEach(item => {\n        ElabCard(s, item,r);\n    });\n    s.Urbans.forEach(item => {\n        ElabCard(s, item,r);\n    });\n    s.Territories.forEach(item => {\n        ElabCard(s, item,r);\n    });\n\n    // Special\n    let bestMil = GetBestFromArray(s.Special, \"SMI\");\n    let bestCol = GetBestFromArray(s.Special, \"SCL\");\n    let bestCiv = GetBestFromArray(s.Special, \"SCI\");\n    let bestCon = GetBestFromArray(s.Special, \"SCO\");\n    ElabCard(s, bestMil, r, false);\n    ElabCard(s, bestCol, r, false);\n    ElabCard(s, bestCiv, r, false);\n    ElabCard(s, bestCon, r, false);\n    \n    ElabCard(s, s.Governament, r, false);\n\n    s.Wonders.forEach(item => {\n        ElabCard(s, item,r, false);\n    });\n\n    s.Wonders.forEach(item => {\n        if (item.code==\"WON06\") // St. Peter's Basilica\n            if (r.happy.Value()>0)\n            {\n                // -1 because \"St. Peter's Basilica\" does not increase it's own happy face by 1.\n                r.happy.AddValue(r.happy.Value()-1, item.card.name + \" (Mod)\"); \n            }\n    });\n\n    \n    ElabCard(s, s.Leader, r, false);\n}\n\nfunction ElabFoodConsumption(s:Scene, r: TTASceneValues)\n{\n    if (s.yellowToken<1)\n        r.food.AddValue(-6, \"FoodConsumption\");\n    else if (s.yellowToken<5)\n        r.food.AddValue(-4, \"FoodConsumption\");\n    else if (s.yellowToken<9)\n        r.food.AddValue(-3, \"FoodConsumption\");\n    else if (s.yellowToken<13)\n        r.food.AddValue(-2, \"FoodConsumption\");\n    else if (s.yellowToken<17)\n        r.food.AddValue(-1, \"FoodConsumption\");\n    else\n        r.food.AddValue(0, \"FoodConsumption\");\n}\n\nfunction GetBoardCardArray(s: Scene) {\n    let deck: Array<BoardCard> = new Array<BoardCard>();\n\n    if (s.Leader!=null) deck.push(s.Leader);\n    if (s.Governament!=null) deck.push(s.Governament);\n    if (s.AirForce!=null) deck.push(s.AirForce);\n\n    if (s.Wonders)\n        s.Wonders.forEach(c=> deck.push(c));\n    if (s.Infantry)\n        s.Infantry.forEach(c=> deck.push(c));\n    if (s.Cavallery)\n        s.Cavallery.forEach(c=> deck.push(c));\n    if (s.Artillery)\n        s.Artillery.forEach(c=> deck.push(c));\n    if (s.Special)\n        s.Special.forEach(c=> deck.push(c));\n    if (s.Productions)\n        s.Productions.forEach(c=> deck.push(c));\n    if (s.Urbans)\n        s.Urbans.forEach(c=> deck.push(c));\n    if (s.Territories)\n        s.Territories.forEach(c=> deck.push(c));\n\n    return deck;\n}\n\nfunction IsValidCardForAge(card:TTACard, age: number)\n{\n    if (card) \n        return (card.age <= age);\n    else\n        return true;\n}\n\nfunction CheckConsistencyAge(s:Scene, r: TTASceneValues) {\n    \n    GetBoardCardArray(s).forEach(c => {\n        if (!(IsValidCardForAge(c.card, s.Age))) {\n            r.valid = false;\n            r.AddLog(`Inconsistency error: the \"${c.card.name}\" card cannot be drawn and played in era ${s.Age}.`);\n        }\n        if (c.card.code.startsWith(\"LE\")) {\n            let diff = s.Age - c.card.age;\n            if (Math.abs(diff)>1) {\n                r.valid = false;\n                r.AddLog(`Inconsistency error: the \"${c.card.name}\" card cannot be on the board in era ${s.Age}.`);    \n            }\n        }\n\n    });        \n    \n}   \n\nfunction CheckConsistencyLouvre(s:Scene, r: TTASceneValues) {\n    \n    GetBoardCardArray(s).forEach(c => {\n        if (c.card.code.startsWith(\"WON27\")) {\n            GetBoardCardArray(s).forEach(c2 => {\n                if (c2.card.code.startsWith(\"WON33\")) {\n                    r.valid = false;\n                    r.AddLog(`Inconsistency error: the \"${c.card.name}\" card cannot be on the board with the \"${c2.card.name}\" card.`);\n                }\n                if (c2.card.code.startsWith(\"WON34\")) {\n                    r.valid = false;\n                    r.AddLog(`Inconsistency error: the \"${c.card.name}\" card cannot be on the board with the \"${c2.card.name}\" card.`);\n                }\n                if (c2.card.code.startsWith(\"WON35\")) {\n                    r.valid = false;\n                    r.AddLog(`Inconsistency error: the \"${c.card.name}\" card cannot be on the board with the \"${c2.card.name}\" card.`);\n                }\n            })    \n        }\n        if (c.card.code.startsWith(\"WON33\")) {\n            GetBoardCardArray(s).forEach(c2 => {\n                if (c2.card.code.startsWith(\"WON34\")) {\n                    r.valid = false;\n                    r.AddLog(`Inconsistency error: the \"${c.card.name}\" card cannot be on the board with the \"${c2.card.name}\" card.`);\n                }\n                if (c2.card.code.startsWith(\"WON35\")) {\n                    r.valid = false;\n                    r.AddLog(`Inconsistency error: the \"${c.card.name}\" card cannot be on the board with the \"${c2.card.name}\" card.`);\n                }\n            })    \n        }\n        if (c.card.code.startsWith(\"WON34\")) {\n            GetBoardCardArray(s).forEach(c2 => {\n                if (c2.card.code.startsWith(\"WON35\")) {\n                    r.valid = false;\n                    r.AddLog(`Inconsistency error: the \"${c.card.name}\" card cannot be on the board with the \"${c2.card.name}\" card.`);\n                }\n            })    \n        }\n\n    });        \n    \n}   \n\nexport function TTASceneCalculation(s: Scene)\n{\n    let result: TTASceneValues = new TTASceneValues();\n\n    result.yellowToken = s.yellowToken;\n\n    // Consumption\n    ElabFoodConsumption(s, result);\n\n    // Tactic\n    result.strength = StrenghtCalculation(s);\n\n    // All cards\n    ElabCards(s, result);\n\n    // Check consistency\n    CheckConsistencyAge(s, result);\n    CheckConsistencyLouvre(s, result);\n    /*\n    let cultureTemp: number;\n    s.Urbans.forEach(c => {\n        cultureTemp = c.card.culture * c.workers;\n        if (cultureTemp>0)\n            result.culture.AddValue(cultureTemp, c.card.name);\n    });\n\n    s.Wonders.forEach(c => {\n        cultureTemp = c.card.culture;\n        if (cultureTemp>0)\n            result.culture.AddValue(cultureTemp, c.card.name);\n    });\n    \n\n    if (s.Leader)\n        if (s.Leader.card.getSceneValuesModifier)\n            console.log(s.Leader.card.getSceneValuesModifier(s));\n    */\n    /*\n    console.log(\"--- CULTURE ---\");\n    result.culture.Logs().forEach(l => {\n        console.log(l.msg)\n    });\n    console.log(\"---\");\n    console.log(\"TOTAL\", result.culture.Value());\n    */\n    return result;\n}","import React, { useRef } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport logo from './logo.svg';\nimport './App.css';\nimport { CardItem, CardItemToken, FilterAge, FilterLeaders, FilterTactics, FilterWonder, SceneResult, FilterGovernament, FilterYellowTokens, TacticResult } from './TTAUI';\nimport { Form } from \"./Forms\";\nimport { TTASceneCalculation } from './TTACalc';\nimport { MakeScene } from './TTARepo';\nimport { TTASceneValues } from './TTATypes';\nimport ReactDOM from 'react-dom';\n\n\nfunction App() {  \n\n  const sceneRef = useRef(null);\n  const tacticRef = useRef(null);\n  const formRef = useRef(null);\n\n  function CalcScene(v: [key: string]) {\n    console.log(v);\n    let s = MakeScene(v);\n    let sceneResult = TTASceneCalculation(s);\n    sceneRef.current.setState({values: sceneResult});\n    //tacticRef.current.setState({values: o})\n    PrintConsoleLog(sceneResult);\n    \n    ;\n  }\n\n  function PrintConsoleLog(r: TTASceneValues) {\n    let errorCount = 0;\n    let resultConsoleElements = <div>No logs</div>;\n    if (r != null) {\n      resultConsoleElements = (\n        <div>\n          {r.Logs().map((item, i) => {      \n            errorCount++;\n            return (<span>{item.msg}<br /></span>) \n          })}\n        </div>\n      );\n    }\n\n    let badge = document.getElementById('countErrorLog')\n    if (errorCount>0) {\n      badge.classList.add(\"bg-danger\");\n      badge.innerText = errorCount.toString();\n    }\n    else {\n      badge.classList.remove(\"bg-danger\")\n      badge.innerText = \"\";\n    }\n    ReactDOM.render(resultConsoleElements, document.getElementById('sceneConsole'));\n\n  }\n\n  function BtnCalcClick()\n  {\n    console.log(formRef.current.handleSubmit(null));\n  }\n\n\n  return (\n    <div>\n\n      <div className=\"row\">\n        <div className=\"col-9\">\n\n      <Form ref={formRef}\n        action=\"http://localhost:4351/api/contactus\"\n        onSubmitData={CalcScene}\n        render={() => (\n          <React.Fragment>\n\n\n<div className=\"row\">\n            <div className=\"col\">\n              <h6>Age</h6>\n              <FilterAge />\n            </div>\n            <div className=\"col\">\n              <h6>General</h6>\n              <FilterLeaders />\n              <FilterGovernament />\n              <FilterTactics />\n              <FilterYellowTokens />\n            </div>\n            \n        </div>\n\n\n\n<ul className=\"nav nav-tabs mb-3\" id=\"pills-tab\" role=\"tablist\">\n  <li className=\"nav-item\" role=\"presentation\">\n    <button className=\"nav-link active\" id=\"pills-resources-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-resources\" type=\"button\" role=\"tab\" aria-controls=\"pills-resources\" aria-selected=\"true\">Resources</button>\n  </li>\n  <li className=\"nav-item\" role=\"presentation\">\n    <button className=\"nav-link\" id=\"pills-strength-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-strength\" type=\"button\" role=\"tab\" aria-controls=\"pills-strength\" aria-selected=\"false\">Strength</button>\n  </li>\n  <li className=\"nav-item\" role=\"presentation\">\n    <button className=\"nav-link\" id=\"pills-wonders-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-wonders\" type=\"button\" role=\"tab\" aria-controls=\"pills-wonders\" aria-selected=\"false\">Wonders</button>\n  </li>\n  <li className=\"nav-item\" role=\"console\">\n    <button className=\"nav-link\" id=\"pills-console-tab\" data-bs-toggle=\"pill\" data-bs-target=\"#pills-console\" type=\"button\" role=\"tab\" aria-controls=\"pills-console\" aria-selected=\"false\">Errors <span id=\"countErrorLog\" className=\"badge\"></span></button>\n  </li>\n</ul>\n<div className=\"tab-content\" id=\"pills-tabContent\">\n  <div className=\"tab-pane fade show active\" id=\"pills-resources\" role=\"tabpanel\" aria-labelledby=\"pills-resources-tab\" >\n\n  <div className=\"row\">\n            <div className=\"col ttapfa\">\n              <h6>Farm</h6>\n              <CardItemToken code=\"PFA01\" />\n              <CardItemToken code=\"PFA02\" />\n              <CardItemToken code=\"PFA03\" />\n              <CardItemToken code=\"PFA04\" />\n            </div>\n            <div className=\"col ttapmi\">\n              <h6>Mine</h6>\n              <CardItemToken code=\"PMI01\" />\n              <CardItemToken code=\"PMI02\" />\n              <CardItemToken code=\"PMI03\" />\n              <CardItemToken code=\"PMI04\" />\n            </div>\n            <div className=\"col ttaula\">\n              <h6>Lab</h6>\n              <CardItemToken code=\"ULA01\" />\n              <CardItemToken code=\"ULA02\" />\n              <CardItemToken code=\"ULA03\" />\n              <CardItemToken code=\"ULA04\" />\n            </div>\n        </div>\n        \n        <div className=\"row\">\n            <div className=\"col ttaute\">\n              <h6>Theology</h6>\n              <CardItemToken code=\"UTE01\" />\n              <CardItemToken code=\"UTE02\" />\n              <CardItemToken code=\"UTE03\" />\n            </div>\n            <div className=\"col ttauar\">\n              <h6>Arena</h6>\n              <CardItemToken code=\"UAR01\" />\n              <CardItemToken code=\"UAR02\" />\n              <CardItemToken code=\"UAR03\" />\n            </div>\n            <div className=\"col ttauth\">\n              <h6>Theatre</h6>\n              <CardItemToken code=\"UTH01\" />\n              <CardItemToken code=\"UTH02\" />\n              <CardItemToken code=\"UTH03\" />\n            </div>\n            <div className=\"col ttauli\">\n              <h6>Press</h6>\n              <CardItemToken code=\"ULI01\" />\n              <CardItemToken code=\"ULI02\" />\n              <CardItemToken code=\"ULI03\" />\n            </div>\n        </div>\n\n        <div className=\"row\">\n            <div className=\"col ttasmi\">\n              <h6>Military</h6>\n              <CardItem code=\"SMI01\"/>\n              <CardItem code=\"SMI02\"/>\n              <CardItem code=\"SMI03\"/>\n            </div>\n            <div className=\"col ttasci\">\n              <h6>Civil</h6>\n              <CardItem code=\"SCI01\"/>\n              <CardItem code=\"SCI02\"/>\n              <CardItem code=\"SCI03\"/>\n            </div>\n            <div className=\"col ttascl\">\n              <h6>Colonization</h6>\n              <CardItem code=\"SCL01\"/>\n              <CardItem code=\"SCL02\"/>\n              <CardItem code=\"SCL03\"/>\n            </div>\n            <div className=\"col ttasco\">\n              <h6>Construction</h6>\n              <CardItem code=\"SCO01\"/>\n              <CardItem code=\"SCO02\"/>\n              <CardItem code=\"SCO03\"/>\n            </div>\n        </div>\n        <h6>Territories</h6>\n        <div className=\"row ttater\">\n            <div className=\"col\">\n              <CardItem code=\"TER01\"/>\n              <CardItem code=\"TER02\"/>\n              <CardItem code=\"TER03\"/>\n            </div>\n            <div className=\"col\">\n              <CardItem code=\"TER04\"/>\n              <CardItem code=\"TER05\"/>\n              <CardItem code=\"TER06\"/>\n            </div>\n            <div className=\"col\">\n              <CardItem code=\"TER07\"/>\n              <CardItem code=\"TER08\"/>\n              <CardItem code=\"TER09\"/>\n            </div>\n            <div className=\"col\">\n              <CardItem code=\"TER10\"/>\n              <CardItem code=\"TER11\"/>\n              <CardItem code=\"TER12\"/>\n              <CardItem code=\"TER13\"/>\n            </div>\n        </div>\n       \n\n  </div>\n  <div className=\"tab-pane fade\" id=\"pills-strength\" role=\"tabpanel\" aria-labelledby=\"pills-strength-tab\" >\n\n        <div className=\"row\">\n            <div className=\"col ttamin\">\n              <h6>Infantry</h6>\n              <CardItemToken code=\"MIN01\" />\n              <CardItemToken code=\"MIN02\" />\n              <CardItemToken code=\"MIN03\" />\n              <CardItemToken code=\"MIN04\" />\n            </div>\n            <div className=\"col ttamca\">\n              <h6>Cavallery</h6>\n              <CardItemToken code=\"MCA01\" />\n              <CardItemToken code=\"MCA02\" />\n              <CardItemToken code=\"MCA03\" />\n            </div>\n            <div className=\"col ttamar\">\n              <h6>Artillery</h6>\n              <CardItemToken code=\"MAR01\" />\n              <CardItemToken code=\"MAR02\" />\n            </div>\n            <div className=\"col ttamai\">\n              <h6>Air Force</h6>\n              <CardItemToken code=\"MAI01\" />\n            </div>\n        </div>\n\n  </div>\n  <div className=\"tab-pane fade\" id=\"pills-wonders\" role=\"tabpanel\" aria-labelledby=\"pills-wonders-tab\" >\n\n          <div className=\"row\">\n            <div className=\"col ttawon\">\n              <h6>Age 0</h6>\n              <CardItem code=\"WON01\"/>\n              <CardItem code=\"WON02\"/>\n              <CardItem code=\"WON03\"/>\n              <CardItem code=\"WON04\"/>\n              <CardItem code=\"WON17\"/>\n              <CardItem code=\"WON18\"/>\n              <CardItem code=\"WON19\"/>\n              <CardItem code=\"WON20\"/>\n            </div>\n            <div className=\"col ttawon\">\n              <h6>Age I</h6>\n              <CardItem code=\"WON05\"/>\n              <CardItem code=\"WON06\"/>\n              <CardItem code=\"WON07\"/>\n              <CardItem code=\"WON08\"/>\n              <CardItem code=\"WON21\"/>\n              <CardItem code=\"WON22\"/>\n              <CardItem code=\"WON23\"/>\n              <CardItem code=\"WON24\"/>\n            </div>\n            <div className=\"col ttawon\">\n              <h6>Age II</h6>\n              <CardItem code=\"WON09\"/>\n              <CardItem code=\"WON10\"/>\n              <CardItem code=\"WON11\"/>\n              <CardItem code=\"WON12\"/>\n              <CardItem code=\"WON25\"/>\n              <CardItem code=\"WON26\"/>\n              <CardItem code=\"WON28\"/>\n              <CardItem code=\"WON27\"/>\n              <CardItem code=\"WON33\"/>\n              <CardItem code=\"WON34\"/>\n              <CardItem code=\"WON35\"/>\n            </div>\n            <div className=\"col ttawon\">\n              <h6>Age III</h6>\n              <CardItem code=\"WON13\"/>\n              <CardItem code=\"WON14\"/>\n              <CardItem code=\"WON15\"/>\n              <CardItem code=\"WON16\"/>\n              <CardItem code=\"WON29\"/>\n              <CardItem code=\"WON30\"/>\n              <CardItem code=\"WON31\"/>\n              <CardItem code=\"WON32\"/>\n            </div>\n          </div>\n\n  </div>\n  <div className=\"tab-pane fade\" id=\"pills-console\" role=\"tabpanel\" aria-labelledby=\"pills-console-tab\">\n    <div id=\"sceneConsole\"></div>    \n  </div>\n</div>\n           \n\n          </React.Fragment>\n        )}\n      \n      />\n\n        </div>\n        <div className=\"col-3\">\n          <div className=\"sticky-top\">\n            <div className=\"d-grid gap-2 mb-2\">\n              <a href=\"#\" className=\"btn btn-primary btn-block btn-lg\" onClick={BtnCalcClick}>Calculate Board</a>\n            </div>\n            <SceneResult ref={sceneRef} /> \n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}